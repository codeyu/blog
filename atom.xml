<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CodeYu</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://codeyu.com/"/>
  <updated>2017-02-13T16:10:14.453Z</updated>
  <id>http://codeyu.com/</id>
  
  <author>
    <name>codeyu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>docker å‘½ä»¤é€ŸæŸ¥è¡¨</title>
    <link href="http://codeyu.com/2017/02/13/docker-cheat-sheet/"/>
    <id>http://codeyu.com/2017/02/13/docker-cheat-sheet/</id>
    <published>2017-02-13T22:46:38.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.docker.com/engine/reference/commandline/create" target="_blank" rel="external"><code>docker create</code></a></td>
<td>åˆ›å»ºä¸€ä¸ªå®¹å™¨ä½†æ˜¯ä¸å¯åŠ¨</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/engine/reference/commandline/rename/" target="_blank" rel="external"><code>docker rename</code></a></td>
<td>é‡å‘½åå®¹å™¨</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/engine/reference/commandline/run" target="_blank" rel="external"><code>docker run</code></a></td>
<td>å¯åŠ¨ä¸€ä¸ªå®¹å™¨</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/engine/reference/commandline/rm" target="_blank" rel="external"><code>docker rm</code></a></td>
<td>åˆ é™¤å®¹å™¨</td>
</tr>
<tr>
<td><a href="https://docs.docker.com/engine/reference/commandline/update/" target="_blank" rel="external"><code>docker update</code></a></td>
<td>æ›´æ–°å®¹å™¨çš„é…ç½®</td>
</tr>
</tbody>
</table>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://docs.docker.com/engine/refer
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://codeyu.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="docker" scheme="http://codeyu.com/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://codeyu.com/2017/02/13/hello-world/"/>
    <id>http://codeyu.com/2017/02/13/hello-world/</id>
    <published>2017-02-13T16:10:14.453Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="quick-start"><a class="header-anchor" href="#quick-start">Â¶</a>Quick Start</h2>
<h3 id="create-a-new-post"><a class="header-anchor" href="#create-a-new-post">Â¶</a>Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="run-server"><a class="header-anchor" href="#run-server">Â¶</a>Run server</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="generate-static-files"><a class="header-anchor" href="#generate-static-files">Â¶</a>Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="deploy-to-remote-sites"><a class="header-anchor" href="#deploy-to-remote-sites">Â¶</a>Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>2017ï¼Œæˆ‘çš„ç¬¬ä¸€æœ¬è‹±æ–‡åŸç‰ˆä¹¦</title>
    <link href="http://codeyu.com/2016/12/31/2017-first-Post/"/>
    <id>http://codeyu.com/2016/12/31/2017-first-Post/</id>
    <published>2016-12-31T22:54:15.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<p><img src="http://oj3pzn0i5.bkt.clouddn.com/succeed_how_we_can_reach_our_goals.jpg" alt="succeed"></p>
<p>å¾ˆå¤šäººéƒ½ä¼šåœ¨å¹´æœ«åšå¹´ç»ˆæ€»ç»“ï¼Œå¹¶ç»™æ˜å¹´åˆ—ä¸ªè®¡åˆ’ã€‚æ¯”å¦‚å»å¹´12æœˆåº•çš„æˆ‘ã€‚</p>
<p>å»å¹´æˆ‘è®¢çš„å…¶ä¸­ä¸€ä¸ªç›®æ ‡æ˜¯å…‹æœ<a href="https://www.zhihu.com/question/29773433" target="_blank" rel="external">ç¤¾äº¤ææƒ§</a>è¿™ç§ç—…ï¼Œå¦‚æœè¿™æ˜¯ç§ç—…çš„è¯ã€‚</p>
<p>ç°åœ¨æƒ³æƒ³ï¼Œä¸ä½†æ²¡å…‹æœï¼Œåè€Œæœ‰åŠ é‡çš„è¶‹åŠ¿ã€‚æˆ‘è¶Šæ¥è¶Šå–œæ¬¢ä¸€ä¸ªäººç‹¬å¤„ï¼Œå®…åœ¨å®¶é‡Œã€‚å”‰ï¼Œæˆ‘æ¨æˆ‘è‡ªå·±ã€‚</p>
<p>æˆ‘è¿˜è®°å¾—æœ‰ä¸ªç›®æ ‡æ˜¯è¯»å®Œå¥½å¤šæœ¬ä¹¦ï¼Œä½†ã€‚ã€‚ã€‚</p>
<p>ä¹°äº†æˆæ†æˆæ†çš„çº¸è´¨ä¹¦ï¼Œä¸‹äº†nå¤šnå¤šçš„ç”µå­ä¹¦ï¼Œä½†å®Œå®Œå…¨å…¨ï¼Œè®¤è®¤çœŸçœŸçœ‹å®Œçš„å´ä¸€æœ¬ä¹Ÿæ²¡æœ‰ï¼Œä¸€æœ¬ä¹Ÿæ²¡æœ‰ï¼Œæ²¡æœ‰ã€‚ã€‚ã€‚ã€’_ã€’</p>
<p>æ˜¯æ—¶å€™æ”¹å˜è‡ªå·±äº†ï¼Œå’¦ï¼Œ2016å¹´çš„å¹´æœ«å¥½åƒä¹Ÿè¯´è¿‡è¿™ç§è¯ï¼ˆæ³ªã€‚ã€‚ã€‚</p>
<p>è¿™æ¬¡æˆ‘è¦æŠŠ2017å¹´çš„ç›®æ ‡è®°å½•åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œåœ¨2017å¹´çš„æœ€åå‡ å¤©å†è¿‡æ¥çœ‹çœ‹ï¼Œæ˜¯æˆ‘å®Œæˆäº†è®¡åˆ’ï¼Œè¿˜æ˜¯è¢«ç‹ ç‹ æ‰“è„¸ï¼</p>
<p>ä¸‹é¢å°±æ˜¯æˆ‘2017å¹´çš„ç›®æ ‡æ¸…å•</p>
<ul>
<li>[ ] è¯» <a href="https://book.douban.com/subject/5934941/" target="_blank" rel="external">Succeed:How We Can Reach Our Goals</a></li>
<li>[ ] è¯» <a href="https://book.douban.com/subject/26867512/" target="_blank" rel="external">Homo Deus:A Brief History of Tomorrow</a></li>
<li>[ ] è¯» <a href="https://book.douban.com/subject/26754245/" target="_blank" rel="external">The Gene:An Intimate History</a></li>
<li>[ ] è¯» <a href="https://book.douban.com/subject/1340758/" target="_blank" rel="external">Harry Potter and the Sorcerer's Stone</a></li>
<li>[ ] è¯» <a href="https://book.douban.com/subject/26337545/" target="_blank" rel="external">The Go Programming Language</a></li>
<li>[ ] è¯» <a href="https://book.douban.com/subject/1088054/" target="_blank" rel="external">TCP/IPè¯¦è§£ å·1ï¼šåè®®</a></li>
<li>[ ] è¯» <a href="https://book.douban.com/subject/1230413/" target="_blank" rel="external">æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ</a></li>
<li>[ ] è¯» <a href="https://book.douban.com/subject/10746113/" target="_blank" rel="external">HTTPæƒå¨æŒ‡å—</a></li>
<li>[ ] è¯» <a href="https://book.douban.com/subject/1148282/" target="_blank" rel="external">è®¡ç®—æœºç¨‹åºçš„æ„é€ å’Œè§£é‡Š</a></li>
<li>[ ] çœ‹ <a href="http://open.163.com/special/opencourse/weijifen.html" target="_blank" rel="external">éº»çœç†å·¥å­¦é™¢å…¬å¼€è¯¾ï¼šå¾®ç§¯åˆ†é‡ç‚¹</a></li>
<li>[ ] çœ‹ <a href="http://v.163.com/special/sp/singlevariablecalculus.html" target="_blank" rel="external">éº»çœç†å·¥å­¦é™¢å…¬å¼€è¯¾ï¼šå•å˜é‡å¾®ç§¯åˆ†</a></li>
<li>[ ] çœ‹ <a href="http://open.163.com/special/opencourse/multivariable.html" target="_blank" rel="external">éº»çœç†å·¥å­¦é™¢å…¬å¼€è¯¾ï¼šå¤šå˜é‡å¾®ç§¯åˆ†</a></li>
<li>[ ] çœ‹ <a href="http://v.163.com/special/opencourse/daishu.html" target="_blank" rel="external">éº»çœç†å·¥å…¬å¼€è¯¾ï¼šçº¿æ€§ä»£æ•°</a></li>
<li>[ ] çœ‹ <a href="http://open.163.com/special/Khan/probability.html" target="_blank" rel="external">å¯æ±—å­¦é™¢å…¬å¼€è¯¾ï¼šæ¦‚ç‡</a></li>
<li>[ ] çœ‹ <a href="http://open.163.com/special/Khan/khstatistics.html" target="_blank" rel="external">å¯æ±—å­¦é™¢å…¬å¼€è¯¾ï¼šç»Ÿè®¡å­¦</a></li>
<li>[ ] è·‘æ­¥ä¸å°‘äº500å…¬é‡Œ</li>
<li>[ ] <a href="https://github.com/codeyu" target="_blank" rel="external">github</a> çš„ contribution ä¸å°‘äº1500æ¬¡ï¼Œä¸å°‘äº300å¤©</li>
<li>[ ] ç”¨ python è¯­è¨€å®ç°ä¸€ä¸ªé¡¹ç›®</li>
<li>[ ] ç”¨ go è¯­è¨€å®ç°ä¸€ä¸ªé¡¹ç›®</li>
<li>[ ] ç”¨ javascript è¯­è¨€å®ç°ä¸€ä¸ªé¡¹ç›®</li>
<li>[ ] ç”¨ elixir è¯­è¨€å®ç°ä¸€ä¸ªé¡¹ç›®</li>
<li>[ ] åŸºäºDiscuzNT, ç”¨ .NET Core é‡å†™ä¸€ä¸ª<a href="https://github.com/codeyu/DiscuzCore" target="_blank" rel="external">è®ºå›</a></li>
<li>[ ] å®ç°ä¸€ä¸ªæ¸¸æˆé¡¹ç›®ï¼Œè¯­è¨€ä¸é™</li>
<li>[ ] leetcodeå®Œæˆ<a href="https://github.com/codeyu/LeetCode" target="_blank" rel="external">å‰300é¢˜</a></li>
<li>[ ] å»å›½å¤–æ—…æ¸¸è‡³å°‘ä¸€æ¬¡</li>
<li>[ ] çœ‹ä¸å°‘äº5éƒ¨ç¾å‰§</li>
<li>[ ] çœ‹ä¸å°‘äº5éƒ¨æ—¥å‰§</li>
<li>[ ] çœ‹ä¸å°‘äº20éƒ¨ç”µå½±</li>
<li>[ ] éšè—ç›®æ ‡(å®Œæˆåè§£é”ï¼Œæ²¡å®Œæˆåˆ æ‰)</li>
</ul>
<p>æ€»ä¹‹ï¼Œ2017å¹´ä¾ç„¶æ˜¯å­¦ä¹ å­¦ä¹ å†å­¦ä¹ ã€‚</p>
<p>çœ‹è¿‡äº†å¾ˆå¤šçš„é¸¡æ±¤ï¼Œæ˜ç™½äº†å¾ˆå¤šçš„é“ç†ï¼Œéš¾é“å°±è¿‡ä¸å¥½2017è¿™ä¸€å¹´ï¼Ÿï¼</p>
<p>PS: è¿™ç¯‡æ–‡ç« æœ¬æ¥æ˜¯è¦å†2016å¹´å®Œæˆçš„ã€‚ã€‚ã€‚ã€‚ï¼ˆé€ƒ</p>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;img src=&quot;http://oj3pzn0i5.bkt.clouddn.com/succeed_how_we_can_reach_our_goals.jpg&quot; alt=&quot;succeed&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šäººéƒ½ä¼šåœ¨å¹´æœ«åšå¹´ç»ˆæ€»ç»“ï¼Œ
    
    </summary>
    
      <category term="å…¶ä»–" scheme="http://codeyu.com/categories/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="è®¡åˆ’" scheme="http://codeyu.com/tags/%E8%AE%A1%E5%88%92/"/>
    
      <category term="å¥‹æ–—" scheme="http://codeyu.com/tags/%E5%A5%8B%E6%96%97/"/>
    
      <category term="å­¦ä¹ " scheme="http://codeyu.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘Actors</title>
    <link href="http://codeyu.com/2016/10/22/actors/"/>
    <id>http://codeyu.com/2016/10/22/actors/</id>
    <published>2016-10-22T15:49:28.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<p>The previous section about <a href="actorsystems">Actor Systems</a> explained how actors form hierarchies and are the smallest unit when building an application. This section looks at one such actor in isolation, explaining the concepts you encounter while implementing it. For a more in depth reference with all the details please refer to F# API or C# API.</p>
<p>An actor is a container for <a href="#state">State</a>, <a href="#behavior">Behavior</a>, a <a href="#mailbox">Mailbox</a>, <a href="#children">Children</a> and a <a href="#supervisor-strategy">Supervisor Strategy</a>. All of this is encapsulated behind an Actor Reference(<code>ActorRef</code>).</p>
<p><img src="http://oj3pzn0i5.bkt.clouddn.com/actor.png" alt="Actor"></p>
<h2 id="actor-reference"><a class="header-anchor" href="#actor-reference">Â¶</a>Actor Reference</h2>
<p>As detailed below, an actor object needs to be shielded from the outside in order to benefit from the actor model. Therefore, actors are represented to the outside using actor references, which are objects that can be passed around freely and without restriction. This split into inner and outer object enables transparency for all the desired operations: restarting an actor without needing to update references elsewhere, placing the actual actor object on remote hosts, sending messages to actors in completely different applications. But the most important aspect is that it is not possible to look inside an actor and get hold of its state from the outside, unless the actor unwisely publishes this information itself.</p>
<h2 id="state"><a class="header-anchor" href="#state">Â¶</a>State</h2>
<p>Actor objects will typically contain some variables which reflect possible states the actor may be in. This can be an explicit state machine (e.g. using the FSM module), or it could be a counter, set of listeners, pending requests, etc. These data are what make an actor valuable, and they must be protected from corruption by other actors. The good news is that Akka.NET actors conceptually each have their own light-weight thread, which is completely shielded from the rest of the system. This means that instead of having to synchronize access using locks you can just write your actor code without worrying about concurrency at all.</p>
<p>Behind the scenes Akka.NET will run sets of actors on sets of real threads, where typically many actors share one thread, and subsequent invocations of one actor may end up being processed on different threads. Akka.NET ensures that this implementation detail does not affect the single-threadedness of handling the actor's state.</p>
<p>Because the internal state is vital to an actor's operations, having inconsistent state is fatal. Thus, when the actor fails and is restarted by its supervisor, the state will be created from scratch, like upon first creating the actor. This is to enable the ability of self-healing of the system.</p>
<p>Optionally, an actor's state can be automatically recovered to the state before a restart by persisting received messages and replaying them after restart (see Persistence).</p>
<h2 id="behavior"><a class="header-anchor" href="#behavior">Â¶</a>Behavior</h2>
<p>Every time a message is processed, it is matched against the current behavior of the actor. Behavior means a function which defines the actions to be taken in reaction to the message at that point in time, say forward a request if the client is authorized, deny it otherwise. This behavior may change over time, e.g. because different clients obtain authorization over time, or because the actor may go into an â€œout-of-serviceâ€ mode and later come back. These changes are achieved by either encoding them in state variables which are read from the behavior logic, or the function itself may be swapped out at runtime, see the become and unbecome operations. However, the initial behavior defined during construction of the actor object is special in the sense that a restart of the actor will reset its behavior to this initial one.</p>
<h2 id="mailbox"><a class="header-anchor" href="#mailbox">Â¶</a>Mailbox</h2>
<p>An actor's purpose is the processing of messages, and these messages were sent to the actor from other actors (or from outside the actor system). The piece which connects sender and receiver is the actor's mailbox: each actor has exactly one mailbox to which all senders enqueue their messages. Enqueuing happens in the time-order of send operations, which means that messages sent from different actors may not have a defined order at runtime due to the apparent randomness of distributing actors across threads. Sending multiple messages to the same target from the same actor, on the other hand, will enqueue them in the same order.</p>
<p>There are different mailbox implementations to choose from, the default being a FIFO: the order of the messages processed by the actor matches the order in which they were enqueued. This is usually a good default, but applications may need to prioritize some messages over others. In this case, a priority mailbox will enqueue not always at the end but at a position as given by the message priority, which might even be at the front. While using such a queue, the order of messages processed will naturally be defined by the queue's algorithm and in general not be FIFO.</p>
<p>An important feature in which Akka.NET differs from some other actor model implementations is that the current behavior must always handle the next dequeued message, there is no scanning the mailbox for the next matching one. Failure to handle a message will typically be treated as a failure, unless this behavior is overridden.</p>
<h2 id="children"><a class="header-anchor" href="#children">Â¶</a>Children</h2>
<p>Each actor is potentially a supervisor: if it creates children for delegating sub-tasks, it will automatically supervise them. The list of children is maintained within the actor's context and the actor has access to it. Modifications to the list are done by creating (<code>Context.ActorOf(...)</code>) or stopping (<code>Context.Stop(child)</code>) children and these actions are reflected immediately. The actual creation and termination actions happen behind the scenes in an asynchronous way, so they do not â€œblockâ€ their supervisor.</p>
<h2 id="supervisor-strategy"><a class="header-anchor" href="#supervisor-strategy">Â¶</a>Supervisor Strategy</h2>
<p>The final piece of an actor is its strategy for handling faults of its children. Fault handling is then done transparently by Akka, applying one of the strategies described in Supervision and Monitoring for each incoming failure. As this strategy is fundamental to how an actor system is structured, it cannot be changed once an actor has been created.</p>
<p>Considering that there is only one such strategy for each actor, this means that if different strategies apply to the various children of an actor, the children should be grouped beneath intermediate supervisors with matching strategies, preferring once more the structuring of actor systems according to the splitting of tasks into sub-tasks.</p>
<h2 id="when-an-actor-terminates"><a class="header-anchor" href="#when-an-actor-terminates">Â¶</a>When an Actor Terminates</h2>
<p>Once an actor terminates, i.e. fails in a way which is not handled by a restart, stops itself or is stopped by its supervisor, it will free up its resources, draining all remaining messages from its mailbox into the system's â€œdead letter mailboxâ€ which will forward them to the <code>EventStream</code> as <code>DeadLetters</code>. The mailbox is then replaced within the actor reference with a system mailbox, redirecting all new messages to the <code>EventStream</code> as <code>DeadLetters</code>. This is done on a best effort basis, though, so do not rely on it in order to construct â€œguaranteed deliveryâ€.</p>
<p>The reason for not just silently dumping the messages was inspired by our tests: we register the TestEventListener on the event bus to which the dead letters are forwarded, and that will log a warning for every dead letter receivedâ€”this has been very helpful for deciphering test failures more quickly. It is conceivable that this feature may also be of use for other purposes.</p>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;The previous section about &lt;a href=&quot;actorsystems&quot;&gt;Actor Systems&lt;/a&gt; explained how actors form hierarchies and are the s
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘Actor ç³»ç»Ÿ</title>
    <link href="http://codeyu.com/2016/10/22/actorsystem/"/>
    <id>http://codeyu.com/2016/10/22/actorsystem/</id>
    <published>2016-10-22T15:46:41.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<p><a href="actors">Actors</a> are objects which encapsulate state and behavior, they communicate exclusively by exchanging <a href="messages">messages</a> which are placed into the recipient's mailbox. In a sense, actors are the most stringent form of object-oriented programming, but it serves better to view them as persons: while modeling a solution with actors, envision a group of people and assign sub-tasks to them, arrange their functions into an organizational structure and think about how to escalate failure (all with the benefit of not actually dealing with people, which means that we need not concern ourselves with their emotional state or moral issues). The result can then serve as a mental scaffolding for building the software implementation.</p>
<blockquote>
<p><strong>Note</strong><br>
An <code>ActorSystem</code> is a heavyweight structure that will allocate 1...N Threads, so create one per logical application.</p>
</blockquote>
<h2 id="hierarchical-structure"><a class="header-anchor" href="#hierarchical-structure">Â¶</a>Hierarchical Structure</h2>
<p>Like in an economic organization, actors naturally form hierarchies. One actor, which is to oversee a certain function in the program might want to split up its task into smaller, more manageable pieces. For this purpose it starts child actors which it supervises. While the details of supervision are explained here, we shall concentrate on the underlying concepts in this section. The only prerequisite is to know that each actor has exactly one supervisor, which is the actor that created it.</p>
<p>The quintessential feature of actor systems is that tasks are split up and delegated until they become small enough to be handled in one piece. In doing so, not only is the task itself clearly structured, but the resulting actors can be reasoned about in terms of which messages they should process, how they should react normally and how failure should be handled. If one actor does not have the means for dealing with a certain situation, it sends a corresponding failure message to its supervisor, asking for help. The recursive structure then allows to handle failure at the right level.</p>
<p><img src="http://oj3pzn0i5.bkt.clouddn.com/ErrorKernel.png" alt="ActorSystem hierarchy, illustrated using error kernel pattern"></p>
<p>Compare this to layered software design which easily devolves into defensive programming with the aim of not leaking any failure out: if the problem is communicated to the right person, a better solution can be found than if trying to keep everything â€œunder the carpetâ€.</p>
<p>Now, the difficulty in designing such a system is how to decide who should supervise what. There is of course no single best solution, but there are a few guidelines which might be helpful:</p>
<ul>
<li>If one actor manages the work another actor is doing, e.g. by passing on sub-tasks, then the manager should supervise the child. The reason is that the manager knows which kind of failures are expected and how to handle them.</li>
<li>If one actor carries very important data (i.e. its state shall not be lost if avoidable), this actor should source out any possibly dangerous sub-tasks to children it supervises and handle failures of these children as appropriate. Depending on the nature of the requests, it may be best to create a new child for each request, which simplifies state management for collecting the replies. This is known as the â€œError Kernel Patternâ€ from Erlang.</li>
<li>If one actor depends on another actor for carrying out its duty, it should watch that other actor's liveness and act upon receiving a termination notice. This is different from supervision, as the watching party has no influence on the supervisor strategy, and it should be noted that a functional dependency alone is not a criterion for deciding where to place a certain child actor in the hierarchy.
There are of course always exceptions to these rules, but no matter whether you follow the rules or break them, you should always have a reason.</li>
</ul>
<h2 id="configuration-container"><a class="header-anchor" href="#configuration-container">Â¶</a>Configuration Container</h2>
<p>The actor system as a collaborating ensemble of actors is the natural unit for managing shared facilities like scheduling services, configuration, logging, etc. Several actor systems with different configuration may co-exist within the same runtime without problems, there is no global shared state within Akka.NET itself. Couple this with the transparent communication between actor systemsâ€”within one node or across a network connectionâ€”to see that actor systems themselves can be used as building blocks in a functional hierarchy.</p>
<h2 id="actor-best-practices"><a class="header-anchor" href="#actor-best-practices">Â¶</a>Actor Best Practices</h2>
<ol>
<li>Actors should be like nice co-workers: do their job efficiently without bothering everyone else needlessly and avoid hogging resources. Translated to programming this means to process events and generate responses (or more requests) in an event-driven manner. Actors should not block (i.e. passively wait while occupying a Thread) on some external entityâ€”which might be a lock, a network socket, etc.â€”unless it is unavoidable; in the latter case see below.</li>
<li>Do not pass mutable objects between actors. In order to ensure that, prefer immutable messages. If the encapsulation of actors is broken by exposing their mutable state to the outside, you are back in normal .NET concurrency land with all the drawbacks.</li>
<li>Actors are made to be containers for behavior and state, embracing this means to not routinely send behavior within messages. One of the risks is to accidentally share mutable state between actors, and this violation of the actor model unfortunately breaks all the properties which make programming in actors such a nice experience.</li>
<li>Top-level actors are the innermost part of your Error Kernel, so create them sparingly and prefer truly hierarchical systems. This has benefits with respect to fault-handling (both considering the granularity of configuration and the performance) and it also reduces the strain on the guardian actor, which is a single point of contention if over-used.</li>
</ol>
<h2 id="blocking-needs-careful-management"><a class="header-anchor" href="#blocking-needs-careful-management">Â¶</a>Blocking Needs Careful Management</h2>
<p>In some cases it is unavoidable to do blocking operations, i.e. to put a thread to sleep for an indeterminate time, waiting for an external event to occur. Examples are legacy RDBMS drivers or messaging APIs, and the underlying reason is typically that (network) I/O occurs under the covers. When facing this, you may be tempted to just wrap the blocking call inside a Future and work with that instead, but this strategy is too simple: you are quite likely to find bottlenecks or run out of memory or threads when the application runs under increased load.</p>
<p>The non-exhaustive list of adequate solutions to the â€œblocking problemâ€ includes the following suggestions:</p>
<ul>
<li>Do the blocking call within an actor (or a set of actors managed by a <a href="Routing">router</a>), making sure to configure a thread pool which is either dedicated for this purpose or sufficiently sized.</li>
<li>Do the blocking call within a Future, ensuring an upper bound on the number of such calls at any point in time (submitting an unbounded number of tasks of this nature will exhaust your memory or thread limits).</li>
<li>Do the blocking call within a Future, providing a thread pool with an upper limit on the number of threads which is appropriate for the hardware on which the application runs.</li>
<li>Dedicate a single thread to manage a set of blocking resources (e.g. a NIO selector driving multiple channels) and dispatch events as they occur as actor messages.</li>
</ul>
<p>The first possibility is especially well-suited for resources which are single-threaded in nature, like database handles which traditionally can only execute one outstanding query at a time and use internal synchronization to ensure this. A common pattern is to create a router for N actors, each of which wraps a single DB connection and handles queries as sent to the router. The number N must then be tuned for maximum throughput, which will vary depending on which DBMS is deployed on what hardware.</p>
<blockquote>
<p><strong>Note</strong><br>
Configuring thread pools is a task best delegated to Akka, simply configure in the application.conf and instantiate through an ActorSystem.</p>
</blockquote>
<h2 id="what-you-should-not-concern-yourself-with"><a class="header-anchor" href="#what-you-should-not-concern-yourself-with">Â¶</a>What you should not concern yourself with</h2>
<p>An actor system manages the resources it is configured to use in order to run the actors which it contains. There may be millions of actors within one such system, after all the mantra is to view them as abundant and they weigh in at an overhead of only roughly 300 bytes per instance. Naturally, the exact order in which messages are processed in large systems is not controllable by the application author, but this is also not intended. Take a step back and relax while Akka.NET does the heavy lifting under the hood.</p>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;a href=&quot;actors&quot;&gt;Actors&lt;/a&gt; are objects which encapsulate state and behavior, they communicate exclusively by exchangin
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>linux zsh ä½¿ç”¨ sudo æ‰§è¡Œ bash è„šæœ¬æç¤º command not found</title>
    <link href="http://codeyu.com/2016/09/22/linux-zsh-shell-script-command-not-found/"/>
    <id>http://codeyu.com/2016/09/22/linux-zsh-shell-script-command-not-found/</id>
    <published>2016-09-22T21:58:03.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<h2 id="é—®"><a class="header-anchor" href="#é—®">Â¶</a>é—®<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></h2>
<p>åœ¨ home ç›®å½•ï¼Œæˆ‘æœ‰ä¸€ä¸ªè„šæœ¬å« <code>foo.sh</code>ã€‚æˆ‘åˆ‡æ¢åˆ°æ­¤ç›®å½•ï¼Œæ‰§è¡Œ <code>./foo.sh</code>ï¼Œå‘ç”Ÿä¸€ä¸ªé”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">zsh: permission denied: ./foo.sh</div></pre></td></tr></table></figure>
<p>æˆ‘ç”¨ <code>sudo ./foo.sh</code> ç»§ç»­æ‰§è¡Œï¼Œå‘ç”Ÿå¦ä¸€ä¸ªé”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo: ./foo.sh: command not found</div></pre></td></tr></table></figure>
<p>ä»€ä¹ˆæƒ…å†µï¼Ÿæˆ‘è¯¥æ€ä¹ˆåšï¼Ÿ</p>
<h2 id="ç­”"><a class="header-anchor" href="#ç­”">Â¶</a>ç­”</h2>
<h3 id="permission-denied"><a class="header-anchor" href="#permission-denied">Â¶</a>permission denied</h3>
<p>ä¸ºäº†è¿è¡Œä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶å¿…é¡»æœ‰<strong>ä¸€ä¸ªå¯æ‰§è¡Œæƒé™è®¾ç½®ä½</strong></p>
<p>ä¸ºäº†å®Œå…¨ç†è§£ Linux æ–‡ä»¶æƒé™ï¼Œé€šè¿‡<a href="http://www.gnu.org/software/coreutils/manual/html_node/File-permissions.html#File-permissions" target="_blank" rel="external">è¿™ä¸ªæ–‡æ¡£</a>ä½ å¯ä»¥å­¦ä¹  <code>chmod</code> å‘½ä»¤ã€‚<a href="http://www.gnu.org/software/coreutils/manual/html_node/chmod-invocation.html" target="_blank" rel="external">chmod</a>ï¼Œchange mode çš„ç¼©å†™å½¢å¼ï¼Œæ˜¯æ”¹å˜æ–‡ä»¶æƒé™è®¾ç½®çš„ä¸€ä¸ªå‘½ä»¤ã€‚</p>
<p>åœ¨ä½ çš„ç³»ç»Ÿè¿è¡Œ <code>man chmod</code> æˆ– <code>info chmod</code> å¯ä»¥æŸ¥çœ‹ chmod çš„å¸®åŠ©è¯´æ˜ã€‚å­¦ä¹ äº†è§£åï¼Œä½ å°±èƒ½çœ‹æ‡‚ä¸‹é¢çš„å‘½ä»¤è¾“å‡ºçš„ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ls ï¼l foo.sh</div></pre></td></tr></table></figure>
<p>ç»“æœå°†åˆ—å‡º Ownerï¼ŒGroupï¼ŒOtherï¼ˆæœ‰æ—¶ç§°ä¹‹ä¸ºâ€œWorldâ€æˆ–â€œOtherâ€ï¼‰çš„ <strong>å¯è¯»</strong>ï¼Œ<strong>å¯å†™</strong>ï¼Œ<strong>å¯æ‰§è¡Œ</strong> æƒé™ã€‚</p>
<p>ä¸‹é¢ç®€å•è¯´ä¸‹æ€ä¹ˆå»è§£å†³ä½ é‡åˆ°çš„ <strong>Permission Denied error</strong>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ ls -l foo.sh                    # æŸ¥çœ‹ foo.sh æ–‡ä»¶çš„æƒé™</div><div class="line">-rw-r--r-- 1 rkielty users 0 2012-10-21 14:47 foo.sh </div><div class="line">    ^^^ </div><div class="line"> ^^^ | ^^^   ^^^^^^^ ^^^^^</div><div class="line">  |  |  |       |       | </div><div class="line">Owner| World    |       |</div><div class="line">     |          |    Name of</div><div class="line">   Group        |     Group</div><div class="line">             Name of </div><div class="line">              Owner</div></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„è¾“å‡ºè¡¨æ˜ Owner æœ‰è¯»å’Œå†™æƒé™ï¼Œä½† - è¡¨ç¤ºæ²¡æœ‰å¯æ‰§è¡Œæƒé™ï¼ˆGroup å’Œ World åªæœ‰è¯»æƒé™ï¼‰ã€‚</p>
<p>ç°åœ¨ç”¨ <code>chmod</code> å‘½ä»¤ä¿®æ­£ä¹‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ chmod +x foo.sh               # owner å¯ä»¥è®¾ç½® foo.sh çš„å¯æ‰§è¡Œæƒé™</div><div class="line">$ ls -l foo.sh                  # ç°åœ¨æˆ‘ä»¬çœ‹åˆ°åœ¨ rw åæœ‰ä¸ª x</div><div class="line">-rwxr-xr-x 1 rkielty users 0 2012-10-21 14:47 foo.sh</div><div class="line">   ^  ^  ^</div></pre></td></tr></table></figure>
<p>åœ¨ Linux ä¸­ï¼Œç°åœ¨ foo.sh æ˜¯å¯æ‰§è¡Œçš„ã€‚</p>
<h3 id="ç”¨-sudo-ç»“æœæ˜¾ç¤º-command-not-found"><a class="header-anchor" href="#ç”¨-sudo-ç»“æœæ˜¾ç¤º-command-not-found">Â¶</a>ç”¨ sudo ç»“æœæ˜¾ç¤º Command not found</h3>
<p>å½“ä½ åœ¨æ‰§è¡Œå‘½ä»¤å‰ç”¨ <strong>sudo</strong> å®é™…ä¸Šä½ æ˜¯ä½œä¸ºè¶…çº§ç”¨æˆ·æˆ– root ç”¨æˆ·æ‰§è¡Œå®ƒã€‚</p>
<p>root ç”¨æˆ·æ‰¾ä¸åˆ°ä½ çš„å‘½ä»¤çš„åŸå› å¯èƒ½æ˜¯ root çš„ <code>PATH</code> ç¯å¢ƒå˜é‡ä¸åŒ…æ‹¬ <code>foo.sh</code> æ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ã€‚å› æ­¤ä½ å‘½ä»¤æœªæ‰¾åˆ°ã€‚</p>
<p>PATH ç¯å¢ƒå˜é‡åŒ…å«ä¸€ä¸ªæœç´¢å‘½ä»¤çš„ç›®å½•åˆ—è¡¨ã€‚æ¯ä¸ªç”¨æˆ·æ ¹æ®è‡ªå·±çš„æƒ…å†µè®¾ç½® PATH å˜é‡ã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤çœ‹çœ‹ PATH å˜é‡é‡Œéƒ½æœ‰äº›ä»€ä¹ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">env | grep ^PATH</div></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯ä¸€äº›ç¤ºä¾‹è¾“å‡ºï¼Œé¦–å…ˆä½œä¸ºä¸€ä¸ªæ™®é€šç”¨æˆ·è¿è¡Œä¸Šé¢çš„ env å‘½ä»¤ï¼Œç„¶åä½¿ç”¨ sudo ä½œä¸º root ç”¨æˆ·è¿è¡Œçš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">rkielty@rkielty-laptop:~$ env | grep ^PATH</div><div class="line">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games</div><div class="line"></div><div class="line">rkielty@rkielty-laptop:~$ sudo env | grep ^PATH</div><div class="line">[sudo] password for rkielty: </div><div class="line">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/X11R6/bin</div></pre></td></tr></table></figure>
<p>è¯·æ³¨æ„ï¼šå°½ç®¡ç›¸ä¼¼ï¼Œä½†éç‰¹æƒç”¨æˆ·ï¼ˆrkieltyï¼‰å’Œ root ç”¨æˆ·çš„ PATH ç›®å½•åˆ—è¡¨æ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<p>foo.sh æ‰€åœ¨çš„ç›®å½•æ²¡æœ‰å‡ºç°åœ¨ root ç”¨æˆ·çš„ PATH å˜é‡ä¸­ï¼Œå› æ­¤ <code>command not found</code> é”™è¯¯å‡ºç°äº†ã€‚</p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>åŸæ–‡åœ°å€ï¼š<a href="http://stackoverflow.com/questions/12996397/command-not-found-when-using-sudo" target="_blank" rel="external">Command not found when using sudo</a> <a href="#fnref1" class="footnote-backref">â†©</a></p>
</li>
</ol>
</section>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;é—®&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#é—®&quot;&gt;Â¶&lt;/a&gt;é—®&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn1&quot; id=&quot;fnref1&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt;&lt;/h2
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="linux" scheme="http://codeyu.com/tags/linux/"/>
    
      <category term="bash" scheme="http://codeyu.com/tags/bash/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu Trusty 14.04 Docker å®‰è£…æ•™ç¨‹</title>
    <link href="http://codeyu.com/2016/09/22/install-docker-on-ubuntu/"/>
    <id>http://codeyu.com/2016/09/22/install-docker-on-ubuntu/</id>
    <published>2016-09-22T19:47:02.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<h3 id="å‡†å¤‡"><a class="header-anchor" href="#å‡†å¤‡">Â¶</a>å‡†å¤‡</h3>
<p>docker è¦æ±‚ 64ä½ çš„ Linux æ“ä½œç³»ç»Ÿï¼Œå¹¶ä¸” Linux çš„å†…æ ¸ &gt;= 3.10</p>
<ol>
<li>é¦–å…ˆæŸ¥çœ‹ä½ çš„æ“ä½œç³»ç»Ÿçš„å†…æ ¸ç‰ˆæœ¬ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ uname -r</div></pre></td></tr></table></figure>
<ol start="2">
<li>æ›´æ–°åŒ…ç®¡ç†å™¨ <a href="http://wiki.ubuntu.com.cn/Apt%E5%92%8Cdpkg%E5%BF%AB%E9%80%9F%E5%8F%82%E8%80%83" target="_blank" rel="external">APTå¿«é€Ÿå‚è€ƒ</a></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div></pre></td></tr></table></figure>
<ol start="3">
<li>å®‰è£…æ¨èçš„åŒ…,è¿™ä¸ªåŒ…å¯ä»¥è®© docker ä½¿ç”¨ <a href="http://coolshell.cn/articles/17061.html" target="_blank" rel="external">AUFS</a> æ–‡ä»¶ç³»ç»Ÿ</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install linux-image-extra-$(uname -r) linux-image-extra-virtual</div></pre></td></tr></table></figure>
<ol start="4">
<li>æ›´æ–°åŒ…ç®¡ç†å™¨å¹¶ä¸”å®‰è£… apt-transport-https å’Œ ca-certificates</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install apt-transport-https ca-certificates</div></pre></td></tr></table></figure>
<ol start="5">
<li>æ·»åŠ æ–°çš„ <a href="http://www.ruanyifeng.com/blog/2013/07/gpg.html" target="_blank" rel="external">GPG</a> é”®</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D</div></pre></td></tr></table></figure>
<ol start="6">
<li>æ‰“å¼€ <code>/etc/apt/sources.list.d/docker.list</code> æ–‡ä»¶ï¼Œæ¸…ç©ºå†…å®¹ï¼ˆå¦‚æœæœ‰ï¼‰</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo vim /etc/apt/sources.list.d/docker.list</div></pre></td></tr></table></figure>
<ol start="7">
<li>æ·»åŠ ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜é€€å‡ºï¼ˆ<code>!wq</code>ï¼‰</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">deb https://apt.dockerproject.org/repo ubuntu-trusty main</div></pre></td></tr></table></figure>
<ol start="8">
<li>æ›´æ–° APT åŒ…ç´¢å¼•</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div></pre></td></tr></table></figure>
<ol start="9">
<li>æ¸…ç†æ—§çš„ docker repo æº</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get purge lxc-docker</div></pre></td></tr></table></figure>
<ol start="10">
<li>éªŒè¯ APT æ˜¯å¦ä»æ­£ç¡®çš„ repo æ‹‰å–</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ apt-cache policy docker-engine</div></pre></td></tr></table></figure>
<h3 id="å®‰è£…"><a class="header-anchor" href="#å®‰è£…">Â¶</a>å®‰è£…</h3>
<ol>
<li>æ›´æ–° APT åŒ…ç´¢å¼•</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div></pre></td></tr></table></figure>
<ol start="2">
<li>å®‰è£… docker</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install docker-engine</div></pre></td></tr></table></figure>
<ol start="3">
<li>å¯åŠ¨ docker å®ˆæŠ¤è¿›ç¨‹</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo service docker start</div></pre></td></tr></table></figure>
<ol start="4">
<li>éªŒè¯ docker æ˜¯å¦æ­£ç¡®å®‰è£…</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo docker run hello-world</div></pre></td></tr></table></figure>
<p>ç¨ç­‰ç‰‡åˆ»ï¼Œå¦‚æœä½ çœ‹åˆ° <code>Hello from Docker!</code> å­—æ ·ï¼Œæ­å–œä½ ï¼Œå®‰è£…æˆåŠŸï¼š-ï¼‰</p>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;å‡†å¤‡&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#å‡†å¤‡&quot;&gt;Â¶&lt;/a&gt;å‡†å¤‡&lt;/h3&gt;
&lt;p&gt;docker è¦æ±‚ 64ä½ çš„ Linux æ“ä½œç³»ç»Ÿï¼Œå¹¶ä¸” Linux çš„å†…æ ¸ &amp;gt;= 3.10&lt;/p&gt;
&lt;ol
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://codeyu.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="docker" scheme="http://codeyu.com/tags/docker/"/>
    
      <category term="ubuntu" scheme="http://codeyu.com/tags/ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>æœºå™¨å­¦ä¹ å…¥é—¨ç³»åˆ— 1.åœ¨windowsç³»ç»Ÿå®‰è£…scikit-learn</title>
    <link href="http://codeyu.com/2016/09/04/machine-learning-installing-scikit-learn-on-windows/"/>
    <id>http://codeyu.com/2016/09/04/machine-learning-installing-scikit-learn-on-windows/</id>
    <published>2016-09-04T22:56:50.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<h2 id="å®‰è£…æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—"><a class="header-anchor" href="#å®‰è£…æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—">Â¶</a>å®‰è£…æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—</h2>
<p>æˆ‘ä»¬ç”¨pythonçš„<a href="http://scikit-learn.org/stable/index.html" target="_blank" rel="external"><code>scikit-learn</code></a>æ¨¡å—æ¥å­¦ä¹ Machine Learningã€‚</p>
<p>é¦–å…ˆï¼Œåˆ°Pythonå®˜ç½‘ä¸‹è½½<a href="https://www.python.org/downloads/" target="_blank" rel="external">Python</a>ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯2.7.Xç³»åˆ—çš„ç‰ˆæœ¬ã€‚32ä½æˆ–64ä½å‡å¯ã€‚æˆ‘è¿™é‡Œå®‰è£…çš„æ˜¯ï¼š
<a href="https://www.python.org/ftp/python/2.7.11/python-2.7.11.msi" target="_blank" rel="external">python-2.7.11.msi</a></p>
<p><strong>æ³¨æ„ï¼š</strong> å®‰è£…çš„æ¨¡å—è¦å’ŒPythonçš„ä½æ•°ä¿æŒä¸€è‡´ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œä½¿ç”¨32ä½çš„pythonã€‚é‚£ä¹ˆç­‰ä¸‹å®‰è£…çš„å„ç§æ¨¡å—ä¹Ÿè¦ä½¿ç”¨32ä½çš„ã€‚å¦åˆ™ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š</p>
<blockquote>
<p>xxx is not a supported wheel on this platform.</p>
</blockquote>
<p>å®‰è£…åè®¾ç½®ç¯å¢ƒå˜é‡ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œå®‰è£…çš„è·¯å¾„æ˜¯ï¼š<code>C:\Python27</code></p>
<p>ä¾æ¬¡æ‰“å¼€ï¼š</p>
<blockquote>
<p>System-&gt;Advanced system settings -&gt; Environment Variables...</p>
</blockquote>
<p>ç¼–è¾‘ <code>PATH</code> å˜é‡ã€‚åœ¨æœ€åæ·»åŠ ï¼š</p>
<blockquote>
<p>;C:\Python27;C:\Python27\Scripts;</p>
</blockquote>
<p>ä¸‹è½½pythonå®‰è£…å™¨ pipï¼š<a href="https://pypi.python.org/pypi/pip" target="_blank" rel="external">pip-8.1.2.tar.gz</a></p>
<p>è§£å‹åˆ°æŸä¸ªç›®å½•å¦‚<code>D:\pip</code>,åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤è¡Œã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<blockquote>
<p>D:\pip&gt; python setup.py install</p>
</blockquote>
<p>ç„¶ååˆ°<a href="http://www.lfd.uci.edu/" target="_blank" rel="external">è¿™ä¸ªç½‘ç«™</a>ä¸‹è½½æœºå™¨å­¦ä¹ ç›¸å…³çš„æ¨¡å—ï¼š</p>
<ol>
<li><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy" target="_blank" rel="external">Numpy+MKL</a></li>
<li><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#scipy" target="_blank" rel="external">Scipy</a></li>
<li><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#matplotlib" target="_blank" rel="external">matplotlib</a></li>
<li><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#scikit-learn" target="_blank" rel="external">scikit-learn</a></li>
</ol>
<p>æ¯”å¦‚ä¸‹è½½åˆ° <code>D:\python_whl_file</code> è¿™ä¸ªç›®å½•ä¸‹ã€‚åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤è¡Œã€‚ä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">D:\python_whl_file&gt;pip install numpy-1.11.1+mkl-cp27-cp27m-win32.whl</div><div class="line">D:\python_whl_file&gt;pip install scipy-0.18.0-cp27-cp27m-win32.whl</div><div class="line">D:\python_whl_file&gt;pip install matplotlib-1.5.2-cp27-cp27m-win32.whl</div><div class="line">D:\python_whl_file&gt;pip install scikit_learn-0.17.1-cp27-cp27m-win32.whl</div></pre></td></tr></table></figure>
<p>æ‰€æœ‰çš„æ¨¡å—éƒ½ Successfully installed åï¼Œå°±å¤§åŠŸå‘Šæˆå•¦ã€‚</p>
<p>å†™åˆ°è¿™é‡Œï¼Œæˆ‘äº†è§£åˆ°å…¶å®å¹¶ä¸ç”¨è¿™ä¹ˆéº»çƒ¦ã€‚åªè¦ä¸‹è½½<a href="https://www.continuum.io/downloads" target="_blank" rel="external">Anaconda</a>è¿™ä¸ªæ•°æ®åˆ†æé›†æˆåŒ…ï¼Œ
ç„¶åå®‰è£…åå°±å¯æ‹¥æœ‰å…¨éƒ¨æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—äº†ğŸ˜„</p>
<h2 id="æµ‹è¯•æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—"><a class="header-anchor" href="#æµ‹è¯•æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—">Â¶</a>æµ‹è¯•æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—</h2>
<p>å®‰è£…åå½“ç„¶è¦æµ‹è¯•ä¸‹äº†ã€‚
é¦–å…ˆè¯•è¯•scikit_learnè¿™ä¸ªåŒ…ã€‚
æ‰“å¼€IDLEã€‚è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</div><div class="line">iris = datasets.load_iris()</div><div class="line"><span class="keyword">print</span> iris.data</div></pre></td></tr></table></figure>
<p>ä¿å­˜ä¸ºiris_data.pyã€‚åœ¨å‘½ä»¤è¡Œé‡Œè¿è¡Œã€‚
è¾“å‡ºäº†ä¸€ä¸²äºŒç»´çŸ©é˜µï¼š</p>
<p><img src="http://codeyu.qiniudn.com/iris_data.png" alt=""></p>
<p>ä¸é”™ã€‚ç„¶åå†ç»“åˆmatplotlibåŒ…è¯•è¯•ã€‚åœ¨IDLEé‡Œæ‰“å¼€æ–°æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</div><div class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</div><div class="line">iris = datasets.load_iris()</div><div class="line">x_index = <span class="number">0</span></div><div class="line">y_index = <span class="number">1</span></div><div class="line"> </div><div class="line">formatter = plt.FuncFormatter(<span class="keyword">lambda</span> i, *args: iris.target_names[int(i)])</div><div class="line"> </div><div class="line">plt.scatter(iris.data[:, x_index], iris.data[:, y_index], c=iris.target)</div><div class="line">plt.colorbar(ticks=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], format=formatter)</div><div class="line">plt.xlabel(iris.feature_names[x_index])</div><div class="line">plt.ylabel(iris.feature_names[y_index])</div><div class="line"> </div><div class="line">plt.show()</div></pre></td></tr></table></figure>
<p>ä¿å­˜ä¸ºiris_figure.pyåœ¨å‘½ä»¤è¡Œé‡Œè¿è¡Œåï¼Œä½ å°†çœ‹åˆ°ä¸‹å›¾ï¼š</p>
<p><img src="http://codeyu.qiniudn.com/iris_figure.png" alt=""></p>
<p>OKã€‚æœŸå¾…ä½ çš„æœºå™¨å­¦ä¹ ä¹‹æ—…å§ï¼</p>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å®‰è£…æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#å®‰è£…æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—&quot;&gt;Â¶&lt;/a&gt;å®‰è£…æœºå™¨å­¦ä¹ ç›¸å…³æ¨¡å—&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨pythonçš„&lt;a href=&quot;http://scikit-l
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://codeyu.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="python" scheme="http://codeyu.com/tags/python/"/>
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://codeyu.com/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="scikit-learn" scheme="http://codeyu.com/tags/scikit-learn/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘æœ¯è¯­å’Œæ¦‚å¿µ</title>
    <link href="http://codeyu.com/2016/09/04/Akka-NET-Terminology-and-Concepts/"/>
    <id>http://codeyu.com/2016/09/04/Akka-NET-Terminology-and-Concepts/</id>
    <published>2016-09-04T22:51:45.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<p>åœ¨è¿™ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬è¯•å›¾å»ºç«‹ä¸€ä¸ªé€šç”¨çš„æœ¯è¯­æ¥å®šä¹‰Akka.NETä¸­å¹¶å‘ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿç­‰æ¦‚å¿µï¼Œä½œä¸ºè®¨è®ºçš„åŸºçŸ³ã€‚è¯·æ³¨æ„ï¼Œ å…¶ä¸­å¾ˆå¤šæœ¯è¯­å¹¶æ²¡æœ‰ç»Ÿä¸€çš„å®šä¹‰ã€‚ æˆ‘ä»¬åªæ˜¯åœ¨Akka.NETæ–‡æ¡£ä¸­æ¥ä½¿ç”¨ã€‚</p>
<h2 id="å¹¶å‘-vs-å¹¶è¡Œ"><a class="header-anchor" href="#å¹¶å‘-vs-å¹¶è¡Œ">Â¶</a>å¹¶å‘ vs. å¹¶è¡Œ</h2>
<p>å¹¶å‘å’Œå¹¶è¡Œæ˜¯å¦‚å½±ç›¸éšçš„æ¦‚å¿µã€‚ å¹¶å‘æ„å‘³ç€ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„ä»»åŠ¡æ­£åœ¨è¿›è¡Œä¸­ï¼Œå³ä½¿ä»–ä»¬å¯èƒ½ä¸ä¼šåŒæ—¶æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œæœ‰çš„ä»»åŠ¡é¡ºåºæ‰§è¡Œï¼Œæœ‰çš„ä»»åŠ¡é€šè¿‡æ—¶é—´ç‰‡çš„åˆ‡æ¢ä¸å…¶ä»–ä»»åŠ¡äº¤æ›¿æ‰§è¡Œã€‚ è€Œå¹¶è¡Œæ˜¯çœŸæ­£çš„åŒæ—¶æ‰§è¡Œã€‚</p>
<h4 id="å¹¶å‘-concurrency"><a class="header-anchor" href="#å¹¶å‘-concurrency">Â¶</a>å¹¶å‘ï¼ˆConcurrencyï¼‰</h4>
<p><img src="http://codeyu.qiniudn.com/concurrency.png" alt="Concurrency"></p>
<h4 id="å¹¶è¡Œ-parallelism"><a class="header-anchor" href="#å¹¶è¡Œ-parallelism">Â¶</a>å¹¶è¡Œï¼ˆParallelismï¼‰</h4>
<p><img src="http://codeyu.qiniudn.com/parallelism.png" alt="Parallelism"></p>
<h2 id="å¼‚æ­¥-vs-åŒæ­¥"><a class="header-anchor" href="#å¼‚æ­¥-vs-åŒæ­¥">Â¶</a>å¼‚æ­¥ vs. åŒæ­¥</h2>
<p>å¦‚æœè°ƒç”¨è€…åœ¨è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå€¼æˆ–æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸åæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œåˆ™ç§°ä¹‹ä¸ºåŒæ­¥è°ƒç”¨ã€‚å¦ä¸€æ–¹é¢ï¼Œå¼‚æ­¥è°ƒç”¨å…è®¸è°ƒç”¨è€…åœ¨æ–¹æ³•å®Œæˆä¹‹å‰å°±ç»§ç»­æ‰§è¡Œï¼Œç­‰åˆ°è¿™ä¸ªæ–¹æ³•å®Œæˆåé€šè¿‡é¢å¤–çš„æœºåˆ¶æ¥é€šçŸ¥è°ƒç”¨è€…ï¼ˆå®ƒå¯èƒ½æ˜¯ä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼Œä¸€ä¸ªFutureæ–¹æ³•ï¼Œæˆ–å‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼‰ã€‚</p>
<p>ä¸€ä¸ªåŒæ­¥APIå¯ä»¥ä½¿ç”¨é˜»å¡æ¥å®ç°åŒæ­¥ï¼Œä½†è¿™ä¸æ˜¯å¿…éœ€çš„ã€‚ä¸€ä¸ªCPUå¯†é›†å‹çš„ä»»åŠ¡å¯èƒ½æœ‰ç±»ä¼¼çš„è¡Œä¸ºä½œä¸ºé˜»å¡ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®ƒä¼˜å…ˆä½¿ç”¨å¼‚æ­¥APIï¼Œå› ä¸ºå®ƒä»¬ä¿è¯ç³»ç»Ÿèƒ½å¤Ÿç»§ç»­æ‰§è¡Œã€‚Actorså¤©ç”Ÿå°±æ˜¯å¼‚æ­¥çš„ï¼šä¸€ä¸ªActorå‘é€æ¶ˆæ¯åä¼šç»§ç»­æ‰§è¡Œè€Œä¸ç­‰ç»“æœã€‚</p>
<h2 id="éé˜»å¡-vs-é˜»å¡"><a class="header-anchor" href="#éé˜»å¡-vs-é˜»å¡">Â¶</a>éé˜»å¡ vs. é˜»å¡</h2>
<p>æˆ‘ä»¬è°ˆè®ºé˜»å¡(blocking)ï¼Œä¸€ä¸ªçº¿ç¨‹çš„å»¶è¿Ÿä¹Ÿè®¸èƒ½æ— é™æœŸçš„å»¶è¿Ÿä¸€äº›åˆ«çš„çº¿ç¨‹ã€‚æ¯”å¦‚ä¸€ä¸ªçº¿ç¨‹é€šè¿‡äº’æ–¥ç‹¬å ä½¿ç”¨ä¸€ä¸ªèµ„æºã€‚å¦‚æœè¿™ä¸ªçº¿ç¨‹æ— é™æœŸçš„æŒæœ‰è¿™ä¸ªèµ„æº (å¦‚ä¸å°å¿ƒå†™äº†ä¸ªæ­»å¾ªç¯) ï¼Œé‚£åˆ«çš„ï¼ˆæ‰“ç®—ä½¿ç”¨è¿™ä¸ªèµ„æºçš„ï¼‰çº¿ç¨‹åªèƒ½ç­‰åˆ°å¤©è’åœ°è€è€Œä¸èƒ½è¿›è¡Œä¸‹å»ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œéé˜»å¡(non-blocking)æ„å‘³ç€æ²¡æœ‰çº¿ç¨‹èƒ½å¤Ÿæ— é™æœŸçš„å»¶è¿Ÿåˆ«äººã€‚</p>
<p>éé˜»å¡æ“ä½œæ¯”é˜»å¡çš„å¥½ã€‚å› ä¸ºåŒ…å«é˜»å¡æ“ä½œçš„ç³»ç»Ÿå¯¹æ•´ä½“çš„è¿›åº¦å¹¶ä¸èƒ½æœ‰æ•ˆçš„ä¿è¯ã€‚</p>
<h2 id="æ­»é”-vs-é¥¥é¥¿-vs-æ´»é”-live-lock"><a class="header-anchor" href="#æ­»é”-vs-é¥¥é¥¿-vs-æ´»é”-live-lock">Â¶</a>æ­»é” vs. é¥¥é¥¿ vs. æ´»é”ï¼ˆLive-lockï¼‰</h2>
<p>å½“å‡ ä¸ªå‚ä¸è€…å½¼æ­¤ç­‰å¾…å¯¹æ–¹è¾¾åˆ°ä¸€ä¸ªç‰¹åˆ«çš„çŠ¶æ€ï¼Œä»¥ä¾¿èƒ½å¤Ÿç»§ç»­è¿›è¡Œï¼Œæ­»é”äº§ç”Ÿäº†ã€‚ å› ä¸ºè¦è¾¾åˆ°ä¸€ä¸ªç‰¹åˆ«çš„çŠ¶æ€å¿…é¡»èƒ½å¤Ÿç»§ç»­è¿›è¡Œï¼Œè¦ç»§ç»­è¿›è¡Œåè¿‡æ¥åˆè¦è¾¾åˆ°ç‰¹åˆ«çš„çŠ¶æ€ (â€œä¸¤éš¾â€é—®é¢˜) ï¼Œæ‰€æœ‰å—å½±å“çš„å­ç³»ç»Ÿéƒ½ä¼šåœæ‘†ã€‚æ­»é”å’Œé˜»å¡æ¯æ¯ç›¸å…³ï¼Œ ä¸€ä¸ªå‚ä¸è€…çº¿ç¨‹èƒ½å¤Ÿæ— é™æœŸå»¶è¿Ÿå…¶ä»–çº¿ç¨‹çš„è¿›è¡Œå¿…ç„¶äº§ç”Ÿæ­»é”ã€‚</p>
<p>åœ¨æ­»é”çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰å‚ä¸è€…èƒ½å¤Ÿç»§ç»­è¿›è¡Œï¼Œ è€Œç›¸æ¯”ä¹‹ä¸‹é¥¥é¥¿ï¼ˆStarvation ï¼‰å‘ç”Ÿæ—¶, æœ‰çš„å‚ä¸è€…èƒ½ç»§ç»­è¿›è¡Œï¼Œæœ‰çš„å´ä¸èƒ½ã€‚ å…¸å‹çš„æƒ…å†µæ˜¯ ä¸€ä¸ªå•çº¯çš„è°ƒåº¦ç®—æ³•æ€»æ˜¯é€‰æ‹©é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œè€Œå¿½ç•¥ä½ä¼˜å…ˆçº§çš„ã€‚å¦‚æœä¼ å…¥çš„é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡æºæºä¸æ–­ï¼Œé‚£ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡å°†æ°¸è¿œæ²¡æœºä¼šå®Œæˆã€‚</p>
<p>æ´»é”å’Œæ­»é”ç±»ä¼¼ï¼Œæ²¡æœ‰å‚ä¸è€…èƒ½å–å¾—è¿›å±•ã€‚ä¸åŒçš„æ˜¯å‚ä¸è€…ä¸ä¼šåƒµåœ¨é‚£é‡Œç­‰å¾…åˆ«äººçš„è¿›è¡Œï¼Œè€Œæ˜¯ä¸æ–­çš„æ”¹å˜å…¶çŠ¶æ€ã€‚ ä¸€ä¸ªç¤ºä¾‹åœºæ™¯æ˜¯å½“ä¸¤ä¸ªå‚ä¸è€…æœ‰ä¸¤ä¸ªç›¸åŒçš„èµ„æºå®ä¾‹å¯ç”¨ã€‚ ä»–ä»¬æ¯ä¸€ä¸ªäººéƒ½è¯•å›¾è·å–èµ„æºï¼Œ ä½†ä»–ä»¬ä¹Ÿæ£€æŸ¥åˆ«äººæ˜¯å¦éœ€è¦è¿™ä¸ªèµ„æºã€‚ å‡å¦‚å‘ç°å…¶ä»–å‚ä¸è€…å·²è¯·æ±‚è¿™ä¸ªèµ„æºï¼Œä»–ä»¬å°è¯•å»è·å–å¦ä¸€ä¸ªèµ„æºå®ä¾‹ã€‚ å¯èƒ½å‘ç”Ÿæ¯”è¾ƒæ‚²å‰§çš„æƒ…å†µæ˜¯ä¸¤ä¸ªå‚ä¸è€…è¢«ä¸¤ä¸ªèµ„æºå¼¹æ¥å¼¹å»ï¼Œéƒ½ä¸èƒ½è·å–åˆ°å®ƒï¼Œæ€»æ˜¯è¢«ç¤¼è®©ç»™å¦ä¸€ä¸ªã€‚</p>
<h2 id="äº‰ç”¨æ¡ä»¶-race-condition"><a class="header-anchor" href="#äº‰ç”¨æ¡ä»¶-race-condition">Â¶</a>äº‰ç”¨æ¡ä»¶ï¼ˆRace Conditionï¼‰</h2>
<p>å‡è®¾ä¸€ç³»åˆ—äº‹ä»¶çš„é¡ºåºé­å—å¤–éƒ¨éç¡®å®šæ€§å› ç´ çš„æ‰“ä¹±æ—¶å‘ç”Ÿäº†äº‰ç”¨æ¡ä»¶ã€‚  å½“å¤šä¸ªçº¿ç¨‹æœ‰ä¸€ä¸ªå…±äº«çš„å¯å˜çŠ¶æ€ï¼Œå¹¶ä¸”çº¿ç¨‹å¯¹çŠ¶æ€è¿›è¡Œäº¤æ›¿æ“ä½œå¯èƒ½å¯¼è‡´æ„æƒ³ä¸åˆ°çš„è¡Œä¸ºï¼Œè¿™æ—¶ç»å¸¸å¼•èµ·äº‰ç”¨æ¡ä»¶ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„æƒ…å†µï¼Œå…±äº«çŠ¶æ€æ˜¯æ²¡å¿…è¦æœ‰äº‰ç”¨æ¡ä»¶ã€‚  ä¸€ä¸ªä¾‹å­æ˜¯å®¢æˆ·ç«¯å‘é€æ— åºæ•°æ®åŒ… (å¦‚ UDP æŠ¥æ–‡) P1, P2 åˆ°æœåŠ¡ç«¯ã€‚å½“æ•°æ®åŒ…é€šè¿‡ä¸åŒçš„ç½‘ç»œè·¯ç”±ä¼ é€ï¼Œ æœåŠ¡ç«¯å¯èƒ½å…ˆæ¥æ”¶åˆ°P2ï¼Œå†æ¥æ”¶åˆ°P1ã€‚å¦‚æœæŠ¥æ–‡ä¸åŒ…å«å‘é€é¡ºåºçš„ä¿¡æ¯ï¼ŒæœåŠ¡ç«¯æ˜¯ä¸å¯èƒ½çŸ¥é“P1å’ŒP2çš„é¡ºåºã€‚ æ ¹æ®æ•°æ®åŒ…çš„æ„ä¹‰è¿™å¯èƒ½ä¼šå¯¼è‡´äº‰ç”¨æ¡ä»¶ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong></p>
<p>Akka.NET æä¾›äº†å¯¹ç»™å®šçš„ä¸€å¯¹ Actors ä¹‹é—´å‘é€æ¶ˆæ¯çš„å”¯ä¸€ä¿è¯æ˜¯ï¼Œå®ƒä»¬çš„é¡ºåºæ€»æ˜¯ä¿æŒä¸å˜ã€‚ è§ <a href="message-delivery-reliability">æ¶ˆæ¯ä¼ é€’çš„å¯é æ€§</a></p>
</blockquote>
<h2 id="éé˜»å¡æ‹…ä¿-progress-conditions"><a class="header-anchor" href="#éé˜»å¡æ‹…ä¿-progress-conditions">Â¶</a>éé˜»å¡æ‹…ä¿ (Progress Conditions)</h2>
<p>æ­£å¦‚å‰é¢å‡ èŠ‚è®¨è®ºçš„é˜»å¡æ˜¯ä¸å—æ¬¢è¿çš„å‡ ä¸ªåŸå› ï¼Œ åŒ…æ‹¬æ­»é”å’Œç³»ç»Ÿååé‡é™ä½çš„å±é™©ã€‚ åœ¨ä»¥ä¸‹éƒ¨åˆ†ä¸­,æˆ‘ä»¬å°†è®¨è®ºå„ç§éé˜»å¡ç‰¹æ€§çš„ä¸åŒä¼˜ç‚¹ã€‚</p>
<h3 id="wait-freedom-æ— ç­‰å¾…ï¼Ÿ"><a class="header-anchor" href="#wait-freedom-æ— ç­‰å¾…ï¼Ÿ">Â¶</a>Wait-freedomï¼ˆæ— ç­‰å¾…ï¼Ÿï¼‰</h3>
<p>å¦‚æœæ¯æ¬¡è°ƒç”¨éƒ½ä¿è¯åœ¨æœ‰é™æ­¥éª¤å†…å®Œæˆï¼Œé‚£è¿™ä¸ªæ–¹æ³•å°±æ˜¯wait-freeçš„ã€‚ å¦‚æœä¸€ä¸ªæ–¹æ³•æ˜¯æœ‰ç•Œçš„wait-freeï¼Œé‚£ä¹ˆæ­¥éª¤çš„æ•°é‡æœ‰ä¸€ä¸ªæœ‰é™çš„ä¸Šé™ã€‚</p>
<p>ä»è¿™ä¸ªå®šä¹‰æ¥çœ‹ï¼Œwait-freeçš„æ–¹æ³•æ°¸è¿œä¸ä¼šé˜»å¡ï¼Œå› æ­¤ä¸ä¼šå‘ç”Ÿæ­»é”ã€‚æ­¤å¤–ï¼Œ å› ä¸ºæ¯ä¸ªå‚ä¸è€…èƒ½åœ¨æœ‰é™æ­¥éª¤ä¹‹åç»§ç»­è¿›è¡Œ (å½“è°ƒç”¨å®Œæˆ), wait-freeæ–¹æ³•å‡æ˜¯free of starvationã€‚</p>
<h3 id="lock-freedom-æ— é”"><a class="header-anchor" href="#lock-freedom-æ— é”">Â¶</a>Lock-freedomï¼ˆæ— é”ï¼‰</h3>
<p>Lock-freedom æ¯” wait-freedom æœ‰æ›´å¼±çš„ç‰¹æ€§ã€‚ åœ¨ lock-free è°ƒç”¨çš„æƒ…å†µä¸‹, ä¸€äº›æ— é™çš„æ–¹æ³•å¸¸å¸¸åœ¨æœ‰é™çš„æ­¥éª¤å®Œæˆã€‚ è¿™ä¸ªå®šä¹‰æ„å‘³ç€lock-freeè°ƒç”¨ä¸å‘ç”Ÿæ­»é”æ˜¯å¯èƒ½çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œ ä¿è¯ä¸€äº›è°ƒç”¨åœ¨æœ‰é™æ•°é‡çš„æ­¥éª¤å®Œæˆæ˜¯ä¸è¶³äºä¿è¯ä»–ä»¬æœ€ç»ˆå®Œæˆã€‚æ¢è¨€ä¹‹ï¼Œ lock-freedom å¹¶ä¸è¶³äºä¿è¯ lack of starvation.</p>
<h3 id="obstruction-freedom-æ— é˜»ç¢"><a class="header-anchor" href="#obstruction-freedom-æ— é˜»ç¢">Â¶</a>Obstruction-freedomï¼ˆæ— é˜»ç¢ï¼‰</h3>
<p>Obstruction-freedom æ˜¯è¿™é‡Œè®¨è®ºæœ€å¼±çš„éé˜»å¡æ‹…ä¿ç‰¹æ€§ã€‚ ä¸€ä¸ªæ–¹æ³•è¢«ç§°ä¸ºobstruction-free æ˜¯å¦‚æœæœ‰ä¸€ä¸ªæ—¶é—´ç‚¹åå®ƒå­¤ç«‹æ‰§è¡Œ (åˆ«çš„çº¿ç¨‹æ²¡æœ‰æ­¥éª¤, ä¾‹å¦‚ï¼š å˜æˆæš‚åœ), å®ƒåœ¨æœ‰é™çš„æ­¥éª¤å®Œæˆã€‚ æ‰€æœ‰ lock-free å¯¹è±¡æ˜¯ obstruction-free çš„, ä½†ç›¸ååˆ™ä¸æˆç«‹ã€‚</p>
<p>ä¹è§‚å¹¶å‘æ§åˆ¶ï¼ˆOCCï¼‰çš„æ–¹æ³•é€šå¸¸æ˜¯ obstruction-freeã€‚OCCçš„åšæ³•æ˜¯æ¯ä¸€ä½å‚ä¸è€…éƒ½è¯•ç€å¯¹å…±äº«å¯¹è±¡æ‰§è¡Œæ“ä½œï¼Œä½†å¦‚æœä¸€ä¸ªå‚ä¸è€…æ£€æµ‹åˆ°ä¸åˆ«äººå†²çªï¼Œ åˆ™å›æ»šä¿®æ”¹,ç„¶åæ ¹æ®æŸç§è®¡åˆ’å†æ¬¡å°è¯•ã€‚å¦‚æœæœ‰ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œè¿™æ—¶åªæœ‰ä¸€ä¸ªå‚ä¸è€…å°è¯•ï¼Œæ“ä½œå°†æˆåŠŸã€‚</p>
<h2 id="æ¨èæ–‡çŒ®"><a class="header-anchor" href="#æ¨èæ–‡çŒ®">Â¶</a>æ¨èæ–‡çŒ®</h2>
<ul>
<li>å¤šæ ¸ç¼–ç¨‹çš„è‰ºæœ¯ï¼ˆThe Art of Multiprocessor Programmingï¼‰, M. Herlihy and N Shavit, 2008. ISBN 978-0123705914</li>
<li>Javaå¹¶å‘å®æˆ˜ï¼ˆJava Concurrency in Practiceï¼‰, B. Goetz, T. Peierls, J. Bloch, J. Bowbeer, D. Holmes and D. Lea, 2006. ISBN 978-0321349606</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;åœ¨è¿™ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬è¯•å›¾å»ºç«‹ä¸€ä¸ªé€šç”¨çš„æœ¯è¯­æ¥å®šä¹‰Akka.NETä¸­å¹¶å‘ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿç­‰æ¦‚å¿µï¼Œä½œä¸ºè®¨è®ºçš„åŸºçŸ³ã€‚è¯·æ³¨æ„ï¼Œ å…¶ä¸­å¾ˆå¤šæœ¯è¯­å¹¶æ²¡æœ‰ç»Ÿä¸€çš„å®šä¹‰ã€‚ æˆ‘ä»¬åªæ˜¯åœ¨Akka.NETæ–‡æ¡£ä¸­æ¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¹¶å‘-vs-å¹¶è¡Œ&quot;&gt;&lt;a c
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘Akka.NET ç”¨æˆ·å’Œä½¿ç”¨æ¡ˆä¾‹</title>
    <link href="http://codeyu.com/2016/08/28/Akka-NET-Users-and-Use-Case/"/>
    <id>http://codeyu.com/2016/08/28/Akka-NET-Users-and-Use-Case/</id>
    <published>2016-08-28T15:09:58.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<p>Akka.NET è¢«å¾ˆå¤šè¡Œä¸šçš„å¤§å‹ç»„ç»‡ä½¿ç”¨ã€‚å¦‚æŠ•èµ„å’Œå•†ä¸šé“¶è¡Œï¼Œé›¶å”®å’Œç¤¾äº¤åª’ä½“ï¼Œ ä»¿çœŸï¼Œæ¸¸æˆå’Œåšå½©ï¼Œæ±½è½¦å’Œäº¤é€šç³»ç»Ÿï¼Œ åŒ»ç–—ä¿å¥ï¼Œ æ•°æ®åˆ†æç­‰ç­‰ã€‚ ä»»ä½•æœ‰é«˜ååé‡å’Œä½å»¶è¿Ÿéœ€æ±‚çš„ç³»ç»Ÿéƒ½å¯ä»¥é€‰æ‹©ä½¿ç”¨ Akka.NETã€‚</p>
<p>Akka.NET çš„ä½¿ç”¨æ¡ˆä¾‹æœ‰å¤§é‡è®ºè¿°ã€‚ ä¸‹é¢æ˜¯ä¸€äº›å®é™…ç”Ÿäº§ç”¨æˆ·çš„ç»éªŒä¹‹è°ˆï¼š</p>
<h2 id="akka-net-ç”¨æˆ·"><a class="header-anchor" href="#akka-net-ç”¨æˆ·">Â¶</a>Akka.NET ç”¨æˆ·</h2>
<h4 id="äº¤æ˜“å¤„ç†-åœ¨çº¿æ¸¸æˆ-é‡‘è-é“¶è¡Œ-è´¸æ˜“-ç»Ÿè®¡-åšå½©-ç¤¾äº¤åª’ä½“-é€šè®¯"><a class="header-anchor" href="#äº¤æ˜“å¤„ç†-åœ¨çº¿æ¸¸æˆ-é‡‘è-é“¶è¡Œ-è´¸æ˜“-ç»Ÿè®¡-åšå½©-ç¤¾äº¤åª’ä½“-é€šè®¯">Â¶</a>äº¤æ˜“å¤„ç† (åœ¨çº¿æ¸¸æˆ, é‡‘èï¼é“¶è¡Œ, è´¸æ˜“, ç»Ÿè®¡, åšå½©, ç¤¾äº¤åª’ä½“, é€šè®¯)</h4>
<ul>
<li><a href="https://youtu.be/G3ZafPNI-hk?t=31m6s" target="_blank" rel="external">CellularSales</a></li>
</ul>
<h4 id="åå°æœåŠ¡-ä»»ä½•è¡Œä¸š-ä»»ä½•åº”ç”¨"><a class="header-anchor" href="#åå°æœåŠ¡-ä»»ä½•è¡Œä¸š-ä»»ä½•åº”ç”¨">Â¶</a>åå°æœåŠ¡ (ä»»ä½•è¡Œä¸šï¼Œä»»ä½•åº”ç”¨)</h4>
<p><a href="http://ivcbusinesssystems.com/" target="_blank" rel="external">IVC ä¸šåŠ¡ç³»ç»Ÿ</a>:</p>
<blockquote>
<p>Sam Covington, IVC ä¸šåŠ¡ç³»ç»Ÿ: æˆ‘ä»¬ç”¨Akka.NETå®ç°äº†ä¸€å¥—å†…éƒ¨çš„â€œActorâ€ç³»ç»Ÿï¼Œè¿™ä½¿æˆ‘ä»¬åˆ›æ–°å’Œæé«˜ç”Ÿäº§åŠ›ï¼Œä¸ç”¨é‡å¤å‘æ˜è½®å­ã€‚è¿™ç§å¾®æœåŠ¡çš„åç«¯æ˜¯æˆ‘ä»¬æ‰€æœ‰äº§å“å’ŒæœåŠ¡çš„åŸºç¡€ã€‚æˆ‘ä»¬ç”¨å®ƒåœ¨ä¼ä¸šç¤¾äº¤äº§å“ï¼Œå’ŒLivescanåŠå…¬äº§å“å¦‚å®¢æˆ·æŒ‡çº¹è¯†åˆ«ã€‚</p>
</blockquote>
<h4 id="å¹¶å‘å’Œå¹¶è¡Œ-ä»»ä½•ç¨‹åº"><a class="header-anchor" href="#å¹¶å‘å’Œå¹¶è¡Œ-ä»»ä½•ç¨‹åº">Â¶</a>å¹¶å‘å’Œå¹¶è¡Œ (ä»»ä½•ç¨‹åº)</h4>
<ul>
<li><a href="https://petabridge.com/blog/akkadotnet-goes-to-wall-street/" target="_blank" rel="external">SNL Financial (McGraw Hill å­å…¬å¸): Akka.NET åœ¨åå°”è¡—çš„ä½¿ç”¨</a></li>
</ul>
<h4 id="æ¨¡æ‹Ÿè®¡ç®—"><a class="header-anchor" href="#æ¨¡æ‹Ÿè®¡ç®—">Â¶</a>æ¨¡æ‹Ÿè®¡ç®—</h4>
<p>Master/Worker, Compute Grid, MapReduce ç­‰ç­‰ã€‚</p>
<h4 id="æ‰¹å¤„ç†-ä»»ä½•é¢†åŸŸ"><a class="header-anchor" href="#æ‰¹å¤„ç†-ä»»ä½•é¢†åŸŸ">Â¶</a>æ‰¹å¤„ç† (ä»»ä½•é¢†åŸŸ)</h4>
<p>Camel integration é€šè¿‡æ‰¹é‡æ•°æ®æº Actors åˆ†æ²»æ‰¹é‡å·¥ä½œä»»åŠ¡</p>
<h4 id="é€šä¿¡-hub-ç”µä¿¡-web-åª’ä»‹-ç§»åŠ¨åª’ä»‹"><a class="header-anchor" href="#é€šä¿¡-hub-ç”µä¿¡-web-åª’ä»‹-ç§»åŠ¨åª’ä»‹">Â¶</a>é€šä¿¡ Hub (ç”µä¿¡, Web åª’ä»‹, ç§»åŠ¨åª’ä»‹)</h4>
<ul>
<li><a href="https://youtu.be/G3ZafPNI-hk?t=6m16s" target="_blank" rel="external">EventDay: ç”¨Akka.NET å®ç°å¯æ‰©å±•çš„ä¼šè®®å’Œäº‹ä»¶ç®¡ç†</a></li>
</ul>
<h4 id="æ¸¸æˆå’Œåšå½©"><a class="header-anchor" href="#æ¸¸æˆå’Œåšå½©">Â¶</a>æ¸¸æˆå’Œåšå½©</h4>
<p>å‚ç›´æ‰©å±•ï¼Œæ°´å¹³æ‰©å±•ï¼Œå®¹é”™æ€§ / é«˜å¯ç”¨</p>
<h4 id="å•†ä¸šæ™ºèƒ½-æ•°æ®æŒ–æ˜-é€šç”¨è®¡ç®—"><a class="header-anchor" href="#å•†ä¸šæ™ºèƒ½-æ•°æ®æŒ–æ˜-é€šç”¨è®¡ç®—">Â¶</a>å•†ä¸šæ™ºèƒ½/æ•°æ®æŒ–æ˜/é€šç”¨è®¡ç®—</h4>
<ul>
<li><a href="https://twitter.com/philiplaureano/status/735976018993778688" target="_blank" rel="external">ç”¨Octopuså‘å¸ƒç³»ç»Ÿå’Œ Akka.NET å®ç° Domain.au çš„å®æ—¶æµå¤„ç† </a></li>
</ul>
<h4 id="ç‰©è”ç½‘-iot"><a class="header-anchor" href="#ç‰©è”ç½‘-iot">Â¶</a>ç‰©è”ç½‘ï¼ˆIoTï¼‰</h4>
<ul>
<li><a href="https://youtu.be/YuY1ziEqifU?t=3m38s" target="_blank" rel="external">Synchromatics: ç”¨ Akka.NET å®ç°å®æ—¶å…¬å…±äº¤é€šè·Ÿè¸ªä¸åˆ†æ</a></li>
</ul>
<h4 id="å¤æ‚äº‹ä»¶å¤„ç†-cep"><a class="header-anchor" href="#å¤æ‚äº‹ä»¶å¤„ç†-cep">Â¶</a>å¤æ‚äº‹ä»¶å¤„ç†ï¼ˆCEPï¼‰</h4>
<ul>
<li><a href="http://www.aaronstannard.com/markedup-akkadotnet/" target="_blank" rel="external">MarkedUp åˆ†æ: ç”¨åˆ†å¸ƒå¼ Actor ç³»ç»Ÿå’Œ Akka.NET å®ç°å®æ—¶è¥é”€è‡ªåŠ¨åŒ–</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;Akka.NET è¢«å¾ˆå¤šè¡Œä¸šçš„å¤§å‹ç»„ç»‡ä½¿ç”¨ã€‚å¦‚æŠ•èµ„å’Œå•†ä¸šé“¶è¡Œï¼Œé›¶å”®å’Œç¤¾äº¤åª’ä½“ï¼Œ ä»¿çœŸï¼Œæ¸¸æˆå’Œåšå½©ï¼Œæ±½è½¦å’Œäº¤é€šç³»ç»Ÿï¼Œ åŒ»ç–—ä¿å¥ï¼Œ æ•°æ®åˆ†æç­‰ç­‰ã€‚ ä»»ä½•æœ‰é«˜ååé‡å’Œä½å»¶è¿Ÿéœ€æ±‚çš„ç³»ç»Ÿéƒ½å¯ä»¥é€‰æ‹©ä½¿ç”¨ Akka.NETã€‚&lt;/p&gt;
&lt;p&gt;Akka.N
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘Azure äº‘æœåŠ¡éƒ¨ç½²åœºæ™¯</title>
    <link href="http://codeyu.com/2016/08/27/Azure-PaaS-Deployment-Scenario/"/>
    <id>http://codeyu.com/2016/08/27/Azure-PaaS-Deployment-Scenario/</id>
    <published>2016-08-27T10:21:42.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<p>ä¸‹é¢çš„ç¤ºä¾‹å‡è®¾æ‚¨å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„åŒ…å«ä¸€ä¸ªç©º<code>Worker Role</code> çš„Azure PaaSäº‘æœåŠ¡ã€‚é€šè¿‡å®‰è£…<a href="http://azure.microsoft.com/en-gb/downloads/" target="_blank" rel="external">Azure .Net SDK</a>å°†äº‘æœåŠ¡æ¨¡ç‰ˆæ·»åŠ åˆ°Visual Studioã€‚</p>
<p>åœ¨éƒ¨ç½²åˆ°äº‘ä¹‹å‰ï¼Œå¯ä»¥åœ¨æœ¬åœ°ä½¿ç”¨â€œAzureæœåŠ¡æ¨¡æ‹Ÿå™¨â€å¯¹<code>Worker Role</code>çš„å®ç°è¿›è¡Œæµ‹è¯•ã€‚ å‚è€ƒMSDN Azure çš„æ–‡ç«  <a href="https://msdn.microsoft.com/en-us/library/azure/dn339018.aspx" target="_blank" rel="external">&quot;ä½¿ç”¨æ¨¡æ‹Ÿå™¨åœ¨æœ¬åœ°è°ƒè¯•å’Œè¿è¡Œä¸€ä¸ªäº‘æœåŠ¡&quot;</a> äº†è§£æ›´å¤šç»†èŠ‚ã€‚</p>
<p>Azure PaaS <code>Worker Role</code>çš„å®ç°å’Œ<a href="http://codeyu.com/2016/08/26/windows-service-deployment-scenario/">Windows Service éƒ¨ç½²åœºæ™¯</a>çš„ä¾‹å­å¾ˆç›¸ä¼¼ã€‚<br>
å¼€å§‹ä½¿ç”¨ Akka.Net çš„æœ€å¿«æ–¹å¼æ˜¯åˆ›å»ºä¸€ä¸ªç®€å•çš„<code>Worker Role</code>ï¼Œåœ¨å®ƒçš„ RunAsync() æ–¹æ³•é‡Œè°ƒç”¨ top-level
user-actorï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<h4 id="workerrole-cs"><a class="header-anchor" href="#workerrole-cs">Â¶</a>WorkerRole.cs</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> Akka.Actor;</div></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">namespace</span> <span class="title">MyActorWorkerRole</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WorkerRole</span> : <span class="title">RoleEntryPoint</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">readonly</span> CancellationTokenSource cancellationTokenSource = <span class="keyword">new</span> CancellationTokenSource();</div><div class="line">        <span class="keyword">private</span> <span class="keyword">readonly</span> ManualResetEvent runCompleteEvent = <span class="keyword">new</span> ManualResetEvent(<span class="literal">false</span>);</div><div class="line"></div><div class="line">        <span class="keyword">private</span> ActorSystem _actorSystem;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> <span class="title">OnStart</span>(<span class="params"></span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="comment">// Setup the Actor System</span></div><div class="line">            _actorSystem = ActorSystem.Create(<span class="string">"MySystem"</span>);</div><div class="line"></div><div class="line">            <span class="keyword">return</span> (<span class="keyword">base</span>.OnStart());</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnStop</span>(<span class="params"></span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">this</span>.cancellationTokenSource.Cancel();</div><div class="line">            <span class="keyword">this</span>.runCompleteEvent.WaitOne();</div><div class="line"></div><div class="line">            <span class="comment">// Shutdown the Actor System</span></div><div class="line">            _actorSystem.Shutdown();</div><div class="line"></div><div class="line">            <span class="keyword">base</span>.OnStop();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">try</span></div><div class="line">            &#123;</div><div class="line">                <span class="keyword">this</span>.RunAsync(<span class="keyword">this</span>.cancellationTokenSource.Token).Wait();</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">finally</span></div><div class="line">            &#123;</div><div class="line">                <span class="keyword">this</span>.runCompleteEvent.Set();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">async</span> Task <span class="title">RunAsync</span>(<span class="params">CancellationToken cancellationToken</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="comment">// Create an instance to the top-level user Actor</span></div><div class="line">            <span class="keyword">var</span> workerRoleActor = _actorSystem.ActorOf&lt;WorkerRoleActor&gt;(<span class="string">"WorkerRole"</span>);</div><div class="line"></div><div class="line">            <span class="comment">// Send a message to the Actor</span></div><div class="line">            workerRoleActor.Tell(<span class="keyword">new</span> WorkerRoleMessage(<span class="string">"Hello World!"</span>));</div><div class="line"></div><div class="line">            <span class="keyword">while</span> (!cancellationToken.IsCancellationRequested)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">await</span> Task.Delay(<span class="number">1000</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;ä¸‹é¢çš„ç¤ºä¾‹å‡è®¾æ‚¨å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„åŒ…å«ä¸€ä¸ªç©º&lt;code&gt;Worker Role&lt;/code&gt; çš„Azure PaaSäº‘æœåŠ¡ã€‚é€šè¿‡å®‰è£…&lt;a href=&quot;http://azure.microsoft.com/en-gb/downloads/&quot;
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘Windows Service éƒ¨ç½²åœºæ™¯</title>
    <link href="http://codeyu.com/2016/08/26/windows-service-deployment-scenario/"/>
    <id>http://codeyu.com/2016/08/26/windows-service-deployment-scenario/</id>
    <published>2016-08-26T23:25:36.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<p>å¯¹äºWindows Service çš„éƒ¨ç½²ï¼Œ æ¨èä½¿ç”¨
<a href="http://topshelf.readthedocs.org/en/latest/index.html" target="_blank" rel="external">TopShelf</a> åˆ›å»º Windows Serviceã€‚å®ƒä»æ ¹æœ¬ä¸Šç®€åŒ–äº†Windows Service çš„æ‰˜ç®¡ã€‚</p>
<p>æœ€å¿«çš„æ–¹å¼å…¥é—¨TopShelf æ˜¯åˆ›å»ºä¸€ä¸ªæ§åˆ¶å°ç¨‹åºï¼Œå®ƒé•¿å¾—åƒä¸‹é¢çš„æ ·å­:</p>
<h4 id="program-cs"><a class="header-anchor" href="#program-cs">Â¶</a>Program.cs</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> Akka.Actor;</div><div class="line"><span class="keyword">using</span> Topshelf;</div></pre></td></tr></table></figure>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> <span class="title">Program</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">    &#123;</div><div class="line">        HostFactory.Run(x =&gt;</div><div class="line">        &#123;</div><div class="line">            x.Service&lt;MyActorService&gt;(s =&gt;</div><div class="line">            &#123;</div><div class="line">                s.ConstructUsing(n =&gt; <span class="keyword">new</span> MyActorService());</div><div class="line">                s.WhenStarted(service =&gt; service.Start());</div><div class="line">                s.WhenStopped(service =&gt; service.Stop());</div><div class="line">                <span class="comment">//ç»§ç»­å’Œé‡æ–°å¯åŠ¨æŒ‡ä»¤ä¹Ÿæ˜¯å¯ç”¨çš„</span></div><div class="line">            &#125;);</div><div class="line"></div><div class="line">            x.RunAsLocalSystem();</div><div class="line">            x.UseAssemblyInfoForServiceInfo();</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></div><div class="line"><span class="comment"><span class="doctag">///</span> è¿™ä¸ªç±»æ‰®æ¼”ä½ çš„åº”ç”¨ç¨‹åºå’ŒTopShelfä¹‹é—´çš„æ¥å¤´äºº</span></div><div class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyActorService</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">private</span> ActorSystem mySystem;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">//this is where you setup your actor system and other things</span></div><div class="line">        mySystem = ActorSystem.Create(<span class="string">"MySystem"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> <span class="keyword">void</span> <span class="title">Stop</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">//this is where you stop your actor system</span></div><div class="line">        <span class="keyword">await</span> mySystem.Terminate();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼Œä¸Šé¢è¿™ä¸ªä¾‹å­æ˜¯æœ€ç®€å•çš„ä½¿ç”¨TopShelf çš„æ–¹å¼ã€‚ ä¸è¿‡ä¹Ÿæœ‰å…¶ä»–ä¸TopShelfé›†æˆçš„æ–¹å¼ï¼Œç»™ä½ æ›´å¤šçš„æ§åˆ¶ã€‚</p>
<p>ä½¿ç”¨ Topshelf å®‰è£…éå¸¸ç®€å•ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥<code>myConsoleApp.exe install</code> å°±è¡Œäº†ã€‚</p>
<p>æ›´å¤šé€‰é¡¹å’Œè®¾ç½®è¯·å‚é˜…<a href="http://topshelf.readthedocs.org/en/latest/index.html" target="_blank" rel="external">Topshelf æ–‡æ¡£</a>.</p>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;å¯¹äºWindows Service çš„éƒ¨ç½²ï¼Œ æ¨èä½¿ç”¨
&lt;a href=&quot;http://topshelf.readthedocs.org/en/latest/index.html&quot; target=&quot;_blank&quot; rel=&quot;externa
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘asp.net éƒ¨ç½²åœºæ™¯</title>
    <link href="http://codeyu.com/2016/08/21/asp-net-deployment-scenario/"/>
    <id>http://codeyu.com/2016/08/21/asp-net-deployment-scenario/</id>
    <published>2016-08-21T23:16:10.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<h3 id="åˆ›å»ºasp-net-èµ„æº"><a class="header-anchor" href="#åˆ›å»ºasp-net-èµ„æº">Â¶</a>åˆ›å»ºASP.NET èµ„æº</h3>
<p>å¯„å®¿åœ¨ASP.NETåº”ç”¨ä¸­å¾ˆå®¹æ˜“ã€‚ é¦–å…ˆï¼Œåœ¨ Global.asax é‡Œè®¾ç½®ä¸‹ã€‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">public class MvcApplication : System.Web.HttpApplication</div><div class="line">&#123;</div><div class="line">    protected static ActorSystem ActorSystem;</div><div class="line">    //è¿™é‡Œå£°æ˜ä½ çš„é¡¶å±‚ actor-refs</div><div class="line">    protected static IActorRef MyActor;</div><div class="line"></div><div class="line">    protected void Application_Start()</div><div class="line">    &#123;</div><div class="line">        //ä½ çš„ mvc é…ç½®ã€‚ åœ¨è¿™ä¹‹å‰æˆ–ä¹‹ååˆå§‹åŒ–ä½ çš„Actor ç³»ç»Ÿéƒ½æ— æ‰€è°“</div><div class="line">        ActorSystem = ActorSystem.Create("app");</div><div class="line">        //è¿™é‡Œæ³¨å†Œä½ çš„é¡¶å±‚ actors</div><div class="line">        MyActor = ActorSystem.ActorOf&lt;MyActor&gt;();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ­£å¦‚ä½ æ‰€è§ï¼Œè¿™é‡Œçš„è¦ç‚¹æ˜¯ç¡®ä¿å¯¹<code>ActorSystem</code> çš„é™æ€å¼•ç”¨ã€‚ è¿™ç¡®ä¿å®ƒä¸ä¼šæ„å¤–çš„è¢«åƒåœ¾å›æ”¶ï¼Œå¹¶ä¸”åœ¨Web åº”ç”¨çš„å¼€å§‹å’Œåœæ­¢äº‹ä»¶ä¸­å¾—åˆ°åˆ›å»ºå’Œå¤„ç†ã€‚</p>
<blockquote>
<p><strong>è­¦å‘Š</strong><br>å°½ç®¡å¯„å®¿åœ¨ASP.NET åº”ç”¨é‡Œå¾ˆå®¹æ˜“ã€‚ <strong>å¿ å‘Šä¹‹è¯­</strong>ï¼šå½“IIS æŠ½é£æ—¶ï¼Œä½ çš„App æ‰€åœ¨çš„åº”ç”¨ç¨‹åºæ± ï¼ˆapplicationpoolï¼‰éšä¹‹åœæ­¢æˆ–å¯åŠ¨ã€‚è¿™æ„å‘³ç€  <code>ActorSystem</code> å¯èƒ½éšæ—¶è¢«ä¸­æ–­ã€‚</p>
</blockquote>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ åœ¨ASP.NETåº”ç”¨ç¨‹åºé‡Œé¢ä½¿ç”¨ä¸€ä¸ªéå¸¸è½»é‡çº§çš„<code>ActorSystem</code> ï¼Œå¹¶é€šè¿‡Akka.Remote/ Akka.ClusteræŠŠé‡å‹å·¥ä½œåˆ†æµåˆ°ä¸€ä¸ªå•ç‹¬çš„Windows æœåŠ¡é‡Œã€‚</p>
<h3 id="controllers-å’Œ-akka-net-çš„äº¤äº’"><a class="header-anchor" href="#controllers-å’Œ-akka-net-çš„äº¤äº’">Â¶</a>Controllers å’Œ Akka.NET çš„äº¤äº’</h3>
<p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨ Web API Controller:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SomeController</span>  : <span class="title">ApiController</span></div><div class="line">&#123;</div><div class="line">      <span class="comment">//ä½¿ç”¨å¼‚æ­¥Action</span></div><div class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;SomeResult&gt; <span class="title">Post</span>(<span class="params">SomeRequest someRequest</span>)</span></div><div class="line">      &#123;</div><div class="line">           <span class="comment">//æ ¹æ®ä¼ å…¥çš„å‚æ•°ï¼Œä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„Actor å‘é€ä¸€ä¸ªæ¶ˆæ¯</span></div><div class="line">           <span class="comment">//å¹¶ä¸”ä½¿ç”¨`Ask` å¼‚æ­¥æ–¹æ³•ç­‰å¾…å‘é€æ¶ˆæ¯çš„ç»“æœ</span></div><div class="line">           <span class="keyword">var</span> result = <span class="keyword">await</span> MvcApplication.MyActor.Ask&lt;SomeResult&gt;(<span class="keyword">new</span> SomeMessage(someRequest.SomeArg1,someRequest.SomeArg2));</div><div class="line">           <span class="keyword">return</span> result;</div><div class="line">      &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;åˆ›å»ºasp-net-èµ„æº&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#åˆ›å»ºasp-net-èµ„æº&quot;&gt;Â¶&lt;/a&gt;åˆ›å»ºASP.NET èµ„æº&lt;/h3&gt;
&lt;p&gt;å¯„å®¿åœ¨ASP.NETåº”ç”¨ä¸­å¾ˆå®¹æ˜“ã€‚ é¦–å…ˆï¼Œåœ¨ Globa
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘æ§åˆ¶å°ç¨‹åºéƒ¨ç½²åœºæ™¯</title>
    <link href="http://codeyu.com/2016/08/21/Console-deployment-scenario/"/>
    <id>http://codeyu.com/2016/08/21/Console-deployment-scenario/</id>
    <published>2016-08-21T23:10:50.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<h2 id="æ§åˆ¶å°ç¨‹åº"><a class="header-anchor" href="#æ§åˆ¶å°ç¨‹åº">Â¶</a>æ§åˆ¶å°ç¨‹åº</h2>
<figure class="highlight pm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">PM&gt; install-<span class="keyword">package</span> Akka</div><div class="line">PM&gt; install-<span class="keyword">package</span> Akka.Remote</div></pre></td></tr></table></figure>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> Akka;</div><div class="line"><span class="keyword">using</span> Akka.Actor;</div><div class="line"><span class="keyword">using</span> Akka.Configuration;</div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">Foo.Bar</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="comment">//é…ç½®è¿œç¨‹è·¯å¾„ä¸º localhost:8081</span></div><div class="line">            <span class="keyword">var</span> fluentConfig = FluentConfig.Begin()</div><div class="line">                .StartRemotingOn(<span class="string">"localhost"</span>, <span class="number">8081</span>)</div><div class="line">                .Build();</div><div class="line"></div><div class="line">            <span class="keyword">using</span> (<span class="keyword">var</span> system = ActorSystem.Create(<span class="string">"my-actor-server"</span>, fluentConfig))</div><div class="line">            &#123;</div><div class="line">                <span class="comment">//å®ä¾‹åŒ–ä¸¤ä¸ªæœåŠ¡</span></div><div class="line">                <span class="keyword">var</span> service1= system.ActorOf&lt;Service1&gt;(<span class="string">"service1"</span>);</div><div class="line">                <span class="keyword">var</span> service2 = system.ActorOf&lt;Service2&gt;(<span class="string">"service2"</span>);</div><div class="line">                Console.ReadKey();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;æ§åˆ¶å°ç¨‹åº&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#æ§åˆ¶å°ç¨‹åº&quot;&gt;Â¶&lt;/a&gt;æ§åˆ¶å°ç¨‹åº&lt;/h2&gt;
&lt;figure class=&quot;highlight pm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;g
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘çº¦å®šæˆä¿—çš„Hello World</title>
    <link href="http://codeyu.com/2016/08/20/The-Obligatory-Hello-World/"/>
    <id>http://codeyu.com/2016/08/20/The-Obligatory-Hello-World/</id>
    <published>2016-08-20T10:44:56.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºæ€ä¹ˆåœ¨C# å’ŒF# è¯­è¨€ä¸­å®šä¹‰å’Œä½¿ç”¨actors</p>
<h2 id="c-è¯­è¨€çš„hello-world"><a class="header-anchor" href="#c-è¯­è¨€çš„hello-world">Â¶</a>C# è¯­è¨€çš„Hello World</h2>
<h4 id="å®šä¹‰ä¸€ä¸ªæ¶ˆæ¯ï¼š"><a class="header-anchor" href="#å®šä¹‰ä¸€ä¸ªæ¶ˆæ¯ï¼š">Â¶</a>å®šä¹‰ä¸€ä¸ªæ¶ˆæ¯ï¼š</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Create an (immutable) message type that your actor will respond to</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Greet</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Greet</span>(<span class="params"><span class="keyword">string</span> who</span>)</span></div><div class="line">    &#123;</div><div class="line">        Who = who;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">string</span> Who &#123; <span class="keyword">get</span>;<span class="keyword">private</span> <span class="keyword">set</span>; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="é€šè¿‡ä½¿ç”¨-receiveactor-api-å®šä¹‰ä½ çš„actor"><a class="header-anchor" href="#é€šè¿‡ä½¿ç”¨-receiveactor-api-å®šä¹‰ä½ çš„actor">Â¶</a>é€šè¿‡ä½¿ç”¨ <code>ReceiveActor</code> API å®šä¹‰ä½ çš„actor</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Create the actor class</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GreetingActor</span> : <span class="title">ReceiveActor</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GreetingActor</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        Receive&lt;Greet&gt;(greet =&gt; Console.WriteLine(<span class="string">"Hello &#123;0&#125;"</span>, greet.Who));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="æˆ–è€…ä½¿ç”¨-typedactor-api"><a class="header-anchor" href="#æˆ–è€…ä½¿ç”¨-typedactor-api">Â¶</a>..æˆ–è€…ä½¿ç”¨ <code>TypedActor</code> API</h4>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public class GreetingActor : TypedActor , IHandle&lt;Greet&gt;</div><div class="line">&#123;</div><div class="line">    public void Handle(Greet greet)</div><div class="line">    &#123;</div><div class="line">        Console.WriteLine("Hello &#123;0&#125;!", greet.Who);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="ç”¨æ³•"><a class="header-anchor" href="#ç”¨æ³•">Â¶</a>ç”¨æ³•:</h4>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Create a new actor system (a container for your actors)</span></div><div class="line"><span class="keyword">var</span> system = ActorSystem.Create(<span class="string">"MySystem"</span>);</div><div class="line"></div><div class="line"><span class="comment">// Create your actor and get a reference to it.</span></div><div class="line"><span class="comment">// This will be an "IActorRef", which is not a reference to the actual actor</span></div><div class="line"><span class="comment">// instance but rather a client or proxy to it.</span></div><div class="line"><span class="keyword">var</span> greeter = system.ActorOf&lt;GreetingActor&gt;(<span class="string">"greeter"</span>);</div><div class="line"></div><div class="line"><span class="comment">// Send a message to the actor.</span></div><div class="line">greeter.Tell(<span class="keyword">new</span> Greet(<span class="string">"World"</span>));</div><div class="line"></div><div class="line"><span class="comment">// This prevents the app from exiting</span></div><div class="line"><span class="comment">// before the async work is done.</span></div><div class="line">Console.ReadLine();</div></pre></td></tr></table></figure>
<p>å‚è€ƒ:</p>
<ul>
<li><a href="http://api.getakka.net/docs/stable/html/6300028C.htm" target="_blank" rel="external">Untyped actors</a></li>
<li><a href="http://api.getakka.net/docs/stable/html/DCCA8182.htm" target="_blank" rel="external">Typed actors</a></li>
</ul>
<h2 id="f-è¯­è¨€çš„hello-world"><a class="header-anchor" href="#f-è¯­è¨€çš„hello-world">Â¶</a>F# è¯­è¨€çš„Hello World</h2>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Create an (immutable) message type that your actor will respond to</span></div><div class="line"><span class="class"><span class="keyword">type</span> <span class="title">Greet</span> </span>= Greet <span class="keyword">of</span> string</div><div class="line"></div><div class="line"><span class="keyword">let</span> system = ActorSystem.Create <span class="string">"MySystem"</span></div><div class="line"></div><div class="line"><span class="comment">// Use F# computation expression with tail-recursive loop</span></div><div class="line"><span class="comment">// to create an actor message handler and return a reference</span></div><div class="line"><span class="keyword">let</span> greeter = spawn system <span class="string">"greeter"</span> &lt;| <span class="keyword">fun</span> mailbox -&gt;</div><div class="line">    <span class="keyword">let</span> <span class="keyword">rec</span> loop() = actor &#123;</div><div class="line">        <span class="keyword">let!</span> msg = mailbox.Receive()</div><div class="line">        <span class="keyword">match</span> msg <span class="keyword">with</span></div><div class="line">        | Greet who -&gt; printf <span class="string">"Hello, %s!\n"</span> who</div><div class="line">        <span class="keyword">return!</span> loop() &#125;</div><div class="line">    loop()</div><div class="line"></div><div class="line">greeter &lt;! Greet <span class="string">"World"</span></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºæ€ä¹ˆåœ¨C# å’ŒF# è¯­è¨€ä¸­å®šä¹‰å’Œä½¿ç”¨actors&lt;/p&gt;
&lt;h2 id=&quot;c-è¯­è¨€çš„hello-world&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#c-è¯­è¨€çš„hello-world&quot;&gt;Â¶&lt;/a&gt;C# è¯­è¨€çš„Hello World&lt;/h
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘å…¥é—¨</title>
    <link href="http://codeyu.com/2016/08/20/Getting-started-with-Akka-NET/"/>
    <id>http://codeyu.com/2016/08/20/Getting-started-with-Akka-NET/</id>
    <published>2016-08-20T08:02:42.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<h2 id="å¼€å§‹ä½¿ç”¨akka-net"><a class="header-anchor" href="#å¼€å§‹ä½¿ç”¨akka-net">Â¶</a>å¼€å§‹ä½¿ç”¨Akka.NET</h2>
<p>æœ¬æ•™ç¨‹æ—¨åœ¨ä»‹ç»å¦‚ä½•ä½¿ç”¨Akka.NET åˆ›å»ºä¸€ä¸ªç®€å•çš„é—®å€™Actor ï¼Œä½¿ç”¨C# è¯­è¨€ã€‚</p>
<h2 id="é¡¹ç›®è®¾ç½®"><a class="header-anchor" href="#é¡¹ç›®è®¾ç½®">Â¶</a>é¡¹ç›®è®¾ç½®</h2>
<p>å¯åŠ¨visual studio å¹¶æ–°å»ºä¸€ä¸ª C# æ§åˆ¶å°ç¨‹åº.
å»ºå¥½åï¼Œæ‰“å¼€åŒ…ç®¡ç†å™¨æ§åˆ¶å°ï¼ˆPackage Manager Consoleï¼‰ï¼Œé”®å…¥:</p>
<figure class="highlight pm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">PM&gt; Install-Package Akka</div></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬éœ€è¦æ·»åŠ ç›¸å…³è¯­å¥:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> System;</div><div class="line"><span class="keyword">using</span> System.Collections.Generic;</div><div class="line"><span class="keyword">using</span> System.Linq;</div><div class="line"><span class="keyword">using</span> System.Text;</div><div class="line"><span class="keyword">using</span> System.Threading.Tasks;</div><div class="line"></div><div class="line"><span class="comment">//å¢åŠ ä¸¤è¡Œ</span></div><div class="line"><span class="keyword">using</span> Akka;</div><div class="line"><span class="keyword">using</span> Akka.Actor;</div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApplication11</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="åˆ›å»ºç¬¬ä¸€ä¸ªactor"><a class="header-anchor" href="#åˆ›å»ºç¬¬ä¸€ä¸ªactor">Â¶</a>åˆ›å»ºç¬¬ä¸€ä¸ªactor</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦åˆ›å»ºæ¶ˆæ¯ç±»å‹ï¼ˆGreet ç±»ï¼‰ä»¥ä½¿Actor å»å“åº”ï¼š</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> System;</div><div class="line"><span class="keyword">using</span> System.Collections.Generic;</div><div class="line"><span class="keyword">using</span> System.Linq;</div><div class="line"><span class="keyword">using</span> System.Text;</div><div class="line"><span class="keyword">using</span> System.Threading.Tasks;</div><div class="line"></div><div class="line"><span class="keyword">using</span> Akka;</div><div class="line"><span class="keyword">using</span> Akka.Actor;</div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApplication11</span></div><div class="line">&#123;</div><div class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªï¼ˆä¸å¯å˜çš„ï¼‰æ¶ˆæ¯ç±»å‹ï¼Œæ‚¨çš„Actor å°†å“åº”</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Greet</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Greet</span>(<span class="params"><span class="keyword">string</span> who</span>)</span></div><div class="line">        &#123;</div><div class="line">            Who = who;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">string</span> Who &#123; <span class="keyword">get</span>;<span class="keyword">private</span> <span class="keyword">set</span>; &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å»ºå¥½åï¼Œå¼€å§‹å»ºactorï¼š</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> System;</div><div class="line"><span class="keyword">using</span> System.Collections.Generic;</div><div class="line"><span class="keyword">using</span> System.Linq;</div><div class="line"><span class="keyword">using</span> System.Text;</div><div class="line"><span class="keyword">using</span> System.Threading.Tasks;</div><div class="line"></div><div class="line"><span class="keyword">using</span> Akka;</div><div class="line"><span class="keyword">using</span> Akka.Actor;</div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApplication11</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Greet</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Greet</span>(<span class="params"><span class="keyword">string</span> who</span>)</span></div><div class="line">        &#123;</div><div class="line">            Who = who;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">string</span> Who &#123; <span class="keyword">get</span>;<span class="keyword">private</span> <span class="keyword">set</span>; &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// åˆ›å»º actor ç±»</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GreetingActor</span> : <span class="title">ReceiveActor</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">GreetingActor</span>(<span class="params"></span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="comment">// å‘Šè¯‰Actor å›åº”é—®å€™æ¶ˆæ¯</span></div><div class="line">            Receive&lt;Greet&gt;(greet =&gt;</div><div class="line">               Console.WriteLine(<span class="string">"Hello &#123;0&#125;"</span>, greet.Who));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œæ˜¯æ—¶å€™æ¶ˆè´¹Actoräº†ï¼Œ æˆ‘ä»¬é€šè¿‡åˆ›å»º <code>ActorSystem</code> å®ä¾‹å’Œä½¿ç”¨ <code>ActorOf</code> æ–¹æ³•æ¥å®ç°ï¼š</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> System;</div><div class="line"><span class="keyword">using</span> System.Collections.Generic;</div><div class="line"><span class="keyword">using</span> System.Linq;</div><div class="line"><span class="keyword">using</span> System.Text;</div><div class="line"><span class="keyword">using</span> System.Threading.Tasks;</div><div class="line"></div><div class="line"><span class="keyword">using</span> Akka;</div><div class="line"><span class="keyword">using</span> Akka.Actor;</div><div class="line"></div><div class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApplication11</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Greet</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Greet</span>(<span class="params"><span class="keyword">string</span> who</span>)</span></div><div class="line">        &#123;</div><div class="line">            Who = who;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">public</span> <span class="keyword">string</span> Who &#123; <span class="keyword">get</span>;<span class="keyword">private</span> <span class="keyword">set</span>; &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GreetingActor</span> : <span class="title">ReceiveActor</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">GreetingActor</span>(<span class="params"></span>)</span></div><div class="line">        &#123;</div><div class="line">            Receive&lt;Greet&gt;(greet =&gt;</div><div class="line">               Console.WriteLine(<span class="string">"Hello &#123;0&#125;"</span>, greet.Who));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">class</span> <span class="title">Program</span></div><div class="line">    &#123;</div><div class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></div><div class="line">        &#123;</div><div class="line">            <span class="comment">// å®ä¾‹åŒ–ä¸€ä¸ª actor ç³»ç»Ÿ (actors çš„å®¹å™¨)</span></div><div class="line">            <span class="keyword">var</span> system = ActorSystem.Create(<span class="string">"MySystem"</span>);</div><div class="line"></div><div class="line">            <span class="comment">// åˆ›å»ºä½ çš„actor å¹¶å¾—åˆ°å¯¹å®ƒçš„å¼•ç”¨ã€‚</span></div><div class="line">            <span class="comment">// è¿™å°†è¿”å› "ActorRef" ç±»å‹, ä¸æ˜¯æŒ‡</span></div><div class="line">            <span class="comment">// å®é™…çš„Actor å®ä¾‹è€Œæ˜¯Actor çš„å®¢æˆ·ç«¯æˆ–ä»£ç†ã€‚</span></div><div class="line">            <span class="keyword">var</span> greeter = system.ActorOf&lt;GreetingActor&gt;(<span class="string">"greeter"</span>);</div><div class="line"></div><div class="line">            <span class="comment">// å‘é€æ¶ˆæ¯åˆ° actor</span></div><div class="line">            greeter.Tell(<span class="keyword">new</span> Greet(<span class="string">"World"</span>));</div><div class="line"></div><div class="line">            <span class="comment">// é˜²æ­¢ç¨‹åºåœ¨å¼‚æ­¥å·¥ä½œå®Œæˆå‰é€€å‡º</span></div><div class="line">            Console.ReadLine();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å°±æ˜¯è¿™æ ·ï¼Œä½ çš„Actor ç°åœ¨å·²ç»å‡†å¤‡å¥½æ¥æ”¶ä»ä»»æ„è°ƒç”¨çº¿ç¨‹å‘é€çš„æ¶ˆæ¯äº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å¼€å§‹ä½¿ç”¨akka-net&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#å¼€å§‹ä½¿ç”¨akka-net&quot;&gt;Â¶&lt;/a&gt;å¼€å§‹ä½¿ç”¨Akka.NET&lt;/h2&gt;
&lt;p&gt;æœ¬æ•™ç¨‹æ—¨åœ¨ä»‹ç»å¦‚ä½•ä½¿ç”¨Akka.NET åˆ›å»ºä¸€ä¸ªç®€å•çš„é—®
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘ä¸ºä»€ä¹ˆä½¿ç”¨Akka.NET</title>
    <link href="http://codeyu.com/2016/08/20/why-akka/"/>
    <id>http://codeyu.com/2016/08/20/why-akka/</id>
    <published>2016-08-20T07:54:46.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<h2 id="akka-net-å¹³å°ä¸ºä»€ä¹ˆæ¯”ç«å“å¼ºå¤§"><a class="header-anchor" href="#akka-net-å¹³å°ä¸ºä»€ä¹ˆæ¯”ç«å“å¼ºå¤§">Â¶</a>Akka.NET å¹³å°ä¸ºä»€ä¹ˆæ¯”ç«å“å¼ºå¤§</h2>
<p>Akka.NET æä¾›äº†å¯æ‰©å±•ï¼Œå®æ—¶çš„ä¸šåŠ¡å¤„ç†ã€‚</p>
<p>Akka.NET ä½œä¸ºä¸€ä¸ªç»Ÿä¸€çš„è¿è¡Œæ—¶å’Œç¼–ç¨‹æ¨¡å‹ä¸»è¦ä½“ç°åœ¨ï¼š</p>
<ul>
<li>å‚ç›´æ‰©å±•ï¼ˆå¹¶å‘æ€§ï¼‰</li>
<li>æ°´å¹³æ‰©å±•ï¼ˆåˆ†å¸ƒå¼å¤„ç†ï¼‰</li>
<li>å®¹é”™æ€§</li>
</ul>
<p>æœ‰ä»¶äº‹è¦å­¦ä¹ å’Œç®¡ç†ï¼Œå…·æœ‰é«˜å†…èšå’Œä¸€è‡´æ€§ã€‚</p>
<p>Akka.NET æ˜¯ä¼¸ç¼©æ€§å¾ˆå¼ºçš„æ¡†æ¶ï¼Œä¸ä»…æ˜¯æ€§èƒ½æ–¹é¢ï¼Œå¯¹åº”ç”¨çš„å¤§å°ä¹Ÿå¾ˆæœ‰å¸®åŠ©ï¼šAkka.NET çš„æ ¸å¿ƒï¼ŒAkka.NET-Actor å¾ˆå°ï¼Œä½ å¯ä»¥æ¯«ä¸è´¹åŠ›çš„æ•´åˆè¿›ä½ éœ€è¦å¼‚æ­¥å’Œæ— é”å¹¶å‘å¤„ç†çš„é¡¹ç›®é‡Œã€‚</p>
<p>åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ï¼Œä½ å¯ä»¥åªé€‰æ‹©Akka.NET ä¸­ä½ éœ€è¦çš„éƒ¨åˆ†ã€‚ç„¶åå°±æ˜¯æ•´ä¸ªåŒ…ï¼ŒAkka.NET å¾®å†…æ ¸ - ä¸€ä¸ªç‹¬ç«‹çš„å®¹å™¨éƒ¨ç½²ä½ çš„ç¨‹åºã€‚éšç€æ¯æ¬¡CPU æ ¸æ•°çš„å¢åŠ ï¼Œå³ä½¿ä½ çš„ç¨‹åºåªæ˜¯éƒ¨ç½²åœ¨ä¸€å°æœºå™¨ä¸Šï¼Œæä¾›å“è¶Šæ€§èƒ½çš„Akka.NET éƒ½æ˜¯ä¼˜ç§€ä¹‹é€‰ã€‚Akka.NET è¿˜æä¾›ä¸€ç³»åˆ—çš„å¹¶å‘æ¨¡å¼ï¼Œå…è®¸ç”¨æˆ·ä½œå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚</p>
<h2 id="akka-net-æœ‰å“ªäº›å¥½çš„ç”¨æˆ·æ¡ˆä¾‹"><a class="header-anchor" href="#akka-net-æœ‰å“ªäº›å¥½çš„ç”¨æˆ·æ¡ˆä¾‹">Â¶</a>Akka.NET æœ‰å“ªäº›å¥½çš„ç”¨æˆ·æ¡ˆä¾‹</h2>
<p>æˆ‘ä»¬çœ‹åˆ°Akka.NET åœ¨å„è¡Œå„ä¸šçš„å¤§æœºæ„éƒ½æœ‰é‡‡ç”¨ï¼š</p>
<ul>
<li>æŠ•èµ„å’Œå•†ä¸šé“¶è¡Œ</li>
<li>é›¶å”®</li>
<li>ç¤¾äº¤åª’ä½“</li>
<li>ä»¿çœŸ</li>
<li>æ¸¸æˆå’Œåšå½©</li>
<li>æ•°æ®åˆ†æç­‰ç­‰ã€‚ä»»ä½•é«˜ååé‡å’Œä½å»¶è¿Ÿçš„ç³»ç»Ÿéƒ½æ˜¯ä½¿ç”¨Akka.NET çš„ä¸äºŒä¹‹é€‰ã€‚</li>
</ul>
<p>Actors è®©ä½ ç®¡ç†æœåŠ¡å¤±è´¥ï¼ˆç›‘ç£è€…ï¼‰ï¼Œè´Ÿè½½ç®¡ç† ï¼ˆå›é€€ç­–ç•¥ã€ è¶…æ—¶å’Œå¤„ç†éš”ç¦»ï¼‰ï¼Œä»¥åŠæ°´å¹³å’Œå‚ç›´æ‰©å±•ï¼ˆæ·»åŠ æ›´å¤šçš„å†…æ ¸å’Œ/æˆ–æ·»åŠ æ›´å¤šçš„æœºå™¨ï¼‰ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ç”¨æˆ·è®²è¿°ä»–ä»¬å¦‚ä½•ä½¿ç”¨Akka.NETï¸°<br>
<a href="http://stackoverflow.com/questions/4493001/good-use-case-for-akka" target="_blank" rel="external">http://stackoverflow.com/questions/4493001/good-use-case-for-akka</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;akka-net-å¹³å°ä¸ºä»€ä¹ˆæ¯”ç«å“å¼ºå¤§&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#akka-net-å¹³å°ä¸ºä»€ä¹ˆæ¯”ç«å“å¼ºå¤§&quot;&gt;Â¶&lt;/a&gt;Akka.NET å¹³å°ä¸ºä»€ä¹ˆæ¯”ç«å“å¼ºå¤§&lt;/h2&gt;
&lt;p&gt;Akka.NE
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
  <entry>
    <title>ã€Akka.NET æ–‡æ¡£ã€‘ä»€ä¹ˆæ˜¯Akka.NET</title>
    <link href="http://codeyu.com/2016/08/17/What-is-Akka/"/>
    <id>http://codeyu.com/2016/08/17/What-is-Akka/</id>
    <published>2016-08-17T22:53:13.000Z</published>
    <updated>2017-02-13T16:10:14.453Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<h2 id="å¯æ‰©å±•-åˆ†å¸ƒå¼-å®æ—¶ä¸šåŠ¡å¤„ç†"><a class="header-anchor" href="#å¯æ‰©å±•-åˆ†å¸ƒå¼-å®æ—¶ä¸šåŠ¡å¤„ç†">Â¶</a>å¯æ‰©å±•ï¼Œåˆ†å¸ƒå¼ å®æ—¶ä¸šåŠ¡å¤„ç†</h2>
<p>æˆ‘ä»¬è®¤ä¸ºå†™æ­£ç¡®çš„ï¼Œå¹¶å‘çš„ï¼Œå®¹é”™çš„å’Œå¯æ‰©å±•çš„åº”ç”¨ç¨‹åºå¤ªéš¾äº†ã€‚</p>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬ç”¨äº†é”™è¯¯çš„å·¥å…·å’Œé”™è¯¯çš„æŠ½è±¡å±‚æ¬¡ã€‚Akka.NETå°±æ˜¯ä¸ºäº†æ”¹å˜è¿™ç§æƒ…å†µã€‚</p>
<p>é€šè¿‡ä½¿ç”¨ Actor æ¨¡å‹ï¼Œæˆ‘ä»¬æå‡äº†æŠ½è±¡å±‚æ¬¡å¹¶ä¸”æä¾›ä¸€ä¸ªæ›´å¥½çš„å¹³å°å»å®ç°å¯æ‰©å±•ï¼Œå¯Œæœ‰å¼¹æ€§å’Œå¯å“åº”çš„åº”ç”¨ç³»ç»Ÿ-ç‚¹å‡» <a href="http://www.reactivemanifesto.org/zh-CN" target="_blank" rel="external">å“åº”å¼å®£è¨€</a> äº†è§£æ›´å¤šã€‚</p>
<p>å¯¹äºå®¹é”™æ€§ï¼Œæˆ‘ä»¬é‡‡ç”¨â€œlet it crashâ€ï¼ˆè®©å®ƒå´©æºƒï¼‰çš„æ¨¡å¼ï¼Œç”µä¿¡é¢†åŸŸé‡‡ç”¨è¿™ç§æ¨¡å¼å–å¾—äº†å·¨å¤§æˆåŠŸï¼Œå› ä¸ºå®ç°äº†å¯ä»¥è‡ªæˆ‘ä¿®å¤å¼‚å¸¸å¹¶ä¸”æ°¸ä¸åœæ­¢çš„åº”ç”¨ç³»ç»Ÿã€‚Actors ä¹Ÿæä¾›åˆ†å¸ƒå¼é€æ˜<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>çš„æŠ½è±¡å’ŒçœŸæ­£å¯æ‰©å±•ï¼Œå®¹é”™åº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚</p>
<p>Akka.NETæ˜¯å¼€æºç¨‹åºï¼Œåœ¨ <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="external">Apache-2.0</a> è®¸å¯è¯ä¸‹å‘è¡Œ--<a href="https://www.tldrlegal.com/l/apache2" target="_blank" rel="external">ç‚¹æˆ‘äº†è§£è¿™ç§è®¸å¯è¯</a>ã€‚</p>
<p>æºç åœ°å€ï¼š<a href="https://github.com/akkadotnet/akka.net" target="_blank" rel="external">https://github.com/akkadotnet/akka.net</a>.</p>
<h2 id="ä¸€ç§ç‹¬ç‰¹çš„æ··åˆ"><a class="header-anchor" href="#ä¸€ç§ç‹¬ç‰¹çš„æ··åˆ">Â¶</a>ä¸€ç§ç‹¬ç‰¹çš„æ··åˆ</h2>
<h3 id="actors"><a class="header-anchor" href="#actors">Â¶</a>Actors</h3>
<p>Actors ç»™ä½ :</p>
<ul>
<li>ç®€å•ï¼Œé«˜å±‚æ¬¡æŠ½è±¡çš„å¹¶å‘å’Œå¹¶è¡Œã€‚</li>
<li>å¼‚æ­¥ï¼Œæ— é˜»å¡å’Œå…·æœ‰é«˜æ€§èƒ½çš„äº‹ä»¶é©±åŠ¨æ¨¡å‹ã€‚</li>
<li>éå¸¸è½»é‡çº§çš„äº‹ä»¶é©±åŠ¨è¿‡ç¨‹ï¼ˆæ¯GBçš„å¯¹å†…å­˜æœ‰æ•°ç™¾ä¸‡çš„actorsï¼‰ã€‚è§C# æˆ– F# ç« èŠ‚ã€‚</li>
</ul>
<h3 id="å®¹é”™æ€§"><a class="header-anchor" href="#å®¹é”™æ€§">Â¶</a>å®¹é”™æ€§</h3>
<ul>
<li>ç›‘ç®¡è€…å±‚æ¬¡å…·æœ‰â€œè®©ä»–å´©æºƒâ€è¯­ä¹‰ã€‚</li>
<li>ç›‘ç®¡è€…å±‚çº§å¯ä»¥è·¨è¶Šå¤šä¸ªè™šæ‹Ÿæœºï¼Œä»¥æä¾›çœŸæ­£çš„å®¹é”™ç³»ç»Ÿã€‚</li>
<li>å“è¶Šçš„é«˜å¯å†™å®¹é”™ç³»ç»Ÿï¼šè‡ªæˆ‘ä¿®å¤ï¼Œæ°¸ä¸åœæ­¢ã€‚è§<a href="http://getakka.net/docs/Fault%20tolerance" target="_blank" rel="external">å®¹é”™</a>ã€‚</li>
</ul>
<h3 id="ä½ç½®é€æ˜"><a class="header-anchor" href="#ä½ç½®é€æ˜">Â¶</a>ä½ç½®é€æ˜<sup class="footnote-ref"><a href="#fn1" id="fnref1:1">[1]</a></sup></h3>
<p>Akkaä¸­çš„ä¸€åˆ‡éƒ½æ˜¯ä¸ºåˆ†å¸ƒå¼ç¯å¢ƒä¸­å·¥ä½œè®¾è®¡çš„ï¼šæ‰€æœ‰actorsçš„äº¤äº’éƒ½æ˜¯é€šè¿‡æ¶ˆæ¯ä¼ é€’çš„ï¼Œä¸€åˆ‡éƒ½æ˜¯å¼‚æ­¥çš„ã€‚</p>
<p>æ”¯æŒé›†ç¾¤ã€‚<a href="https://github.com/akkadotnet/akka.net/pull/400" target="_blank" rel="external">ç‚¹æˆ‘äº†è§£æ›´å¤š</a></p>
<h3 id="æŒä¹…åŒ–"><a class="header-anchor" href="#æŒä¹…åŒ–">Â¶</a>æŒä¹…åŒ–</h3>
<p>Akka.Persistence å½“å‰æ˜¯betaç‰ˆã€‚<a href="https://github.com/akkadotnet/akka.net/tree/dev/src/core/Akka.Persistence" target="_blank" rel="external">ç‚¹æˆ‘æŸ¥çœ‹å¼€å‘è¿›åº¦</a></p>
<h3 id="å•†ä¸šæ”¯æŒ"><a class="header-anchor" href="#å•†ä¸šæ”¯æŒ">Â¶</a>å•†ä¸šæ”¯æŒ</h3>
<p>Akka.NET ç”± <a href="http://petabridge.com/" target="_blank" rel="external">Petabridge</a> å…¬å¸æä¾›æ”¯æŒã€‚</p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>ä½œè€…æ³¨ï¼šæ‰€è°“åˆ†å¸ƒå¼é€æ˜æˆ–ä½ç½®é€æ˜æˆ‘è®¤ä¸ºå°±æ˜¯ç¨‹åºæ˜¯åˆ†å¸ƒå¼éƒ¨ç½²ä½†ç»™äººçš„æ„Ÿè§‰å°±æ˜¯åœ¨åŒä¸€ä¸ªç¯å¢ƒä¸­ <a href="#fnref1" class="footnote-backref">â†©</a> <a href="#fnref1:1" class="footnote-backref">â†©</a></p>
</li>
</ol>
</section>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;å¯æ‰©å±•-åˆ†å¸ƒå¼-å®æ—¶ä¸šåŠ¡å¤„ç†&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#å¯æ‰©å±•-åˆ†å¸ƒå¼-å®æ—¶ä¸šåŠ¡å¤„ç†&quot;&gt;Â¶&lt;/a&gt;å¯æ‰©å±•ï¼Œåˆ†å¸ƒå¼ å®æ—¶ä¸šåŠ¡å¤„ç†&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬è®¤ä¸ºå†™æ­£ç¡®çš„ï¼Œå¹¶å‘çš„ï¼Œå®¹é”™çš„å’Œå¯æ‰©å±•çš„åº”
    
    </summary>
    
      <category term="ç¿»è¯‘" scheme="http://codeyu.com/categories/%E7%BF%BB%E8%AF%91/"/>
    
    
      <category term="Akka.NET" scheme="http://codeyu.com/tags/Akka-NET/"/>
    
  </entry>
  
</feed>
